<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BetSense AI Suite ‚Äì Live Match Intelligence Stack</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --bg-soft: #02091a;
      --card: #020617;
      --border: #1f2937;
      --border-soft: #111827;
      --text: #e5e7eb;
      --text-soft: #9ca3af;
      --accent: #38bdf8;
      --accent2: #a855f7;
      --accent3: #22c55e;
      --danger: #fb7185;
      --pill: #020617;
      --radius-lg: 20px;
      --radius-xl: 24px;
      --shadow-soft: 0 18px 60px rgba(15, 23, 42, 0.9);
      --shadow-subtle: 0 10px 40px rgba(15, 23, 42, 0.7);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Inter", sans-serif;
      background: radial-gradient(circle at top, #0b1220 0, #020617 55%, #000 100%);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      line-height: 1.5;
    }

    .page {
      min-height: 100vh;
      padding: 32px 16px 56px;
      max-width: 1120px;
      margin: 0 auto;
    }

    @media (min-width: 768px) {
      .page {
        padding: 40px 24px 72px;
      }
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      margin-bottom: 28px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .brand-logo {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      background: radial-gradient(circle at 0% 0%, #4ade80, #22d3ee, #6366f1);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.4),
        0 16px 40px rgba(15, 23, 42, 0.9);
    }

    .brand-logo span {
      font-weight: 800;
      font-size: 22px;
      color: #0b1120;
    }

    .brand-text-title {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 0.01em;
    }

    .brand-text-sub {
      font-size: 12px;
      color: var(--text-soft);
    }

    .status-pill {
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(34, 197, 94, 0.65);
      background: radial-gradient(circle at 0 0, rgba(34, 197, 94, 0.2), #020617);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: #bbf7d0;
      box-shadow: var(--shadow-subtle);
    }

    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 5px rgba(34, 197, 94, 0.35);
    }

    /* hero */

    .hero {
      border-radius: 32px;
      padding: 22px 18px 24px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background:
        radial-gradient(circle at top left, rgba(59, 130, 246, 0.18), transparent 55%),
        radial-gradient(circle at top right, rgba(236, 72, 153, 0.16), transparent 55%),
        linear-gradient(135deg, #020617 0%, #020617 45%, #020617 100%);
      box-shadow: var(--shadow-soft);
      margin-bottom: 22px;
    }

    @media (min-width: 900px) {
      .hero {
        display: grid;
        grid-template-columns: minmax(0, 3fr) minmax(0, 2.6fr);
        gap: 24px;
        align-items: stretch;
      }
    }

    .hero-main-title {
      font-size: 30px;
      font-weight: 800;
      letter-spacing: 0.01em;
      margin-bottom: 6px;
    }

    .hero-main-sub {
      font-size: 13px;
      color: var(--text-soft);
      margin-bottom: 18px;
    }

    .hero-toggle-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 18px;
    }

    .toggle-pill {
      border-radius: 999px;
      padding: 4px;
      background: radial-gradient(
        circle at 0 0,
        rgba(56, 189, 248, 0.16),
        #020617
      );
      border: 1px solid rgba(148, 163, 184, 0.4);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .toggle-pill button {
      border-radius: 999px;
      border: none;
      padding: 6px 12px;
      font-size: 12px;
      color: var(--text-soft);
      background: transparent;
      cursor: pointer;
    }

    .toggle-pill button.active {
      background: linear-gradient(135deg, #38bdf8, #a855f7);
      color: #020617;
      font-weight: 600;
    }

    .hero-tagline {
      font-size: 14px;
      margin-bottom: 14px;
    }

    .hero-tagline span.highlight {
      background: linear-gradient(135deg, #38bdf8, #a855f7);
      -webkit-background-clip: text;
      color: transparent;
      font-weight: 700;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 4px;
    }

    .pill {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15, 23, 42, 0.85);
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #38bdf8;
    }

    .hero-demo {
      margin-top: 18px;
      border-radius: var(--radius-xl);
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.2), #020617);
      padding: 16px 14px 14px;
    }

    .hero-demo-label {
      font-size: 11px;
      color: var(--text-soft);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 8px;
    }

    .hero-demo-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
    }

    .hero-demo-card {
      border-radius: 16px;
      padding: 10px 10px 9px;
      background: radial-gradient(
        circle at top left,
        rgba(56, 189, 248, 0.16),
        #020617
      );
      border: 1px solid rgba(148, 163, 184, 0.45);
    }

    .hero-demo-card:nth-child(2) {
      background: radial-gradient(
        circle at top left,
        rgba(139, 92, 246, 0.18),
        #020617
      );
    }

    .hero-demo-card:nth-child(3) {
      background: radial-gradient(
        circle at top left,
        rgba(45, 212, 191, 0.2),
        #020617
      );
    }

    .hero-demo-card:nth-child(4) {
      background: radial-gradient(
        circle at top left,
        rgba(251, 113, 133, 0.2),
        #020617
      );
    }

    .hero-demo-label-kicker {
      font-size: 11px;
      color: var(--text-soft);
      margin-bottom: 4px;
    }

    .hero-demo-value-main {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 2px;
    }

    .hero-demo-sub {
      font-size: 11px;
      color: var(--text-soft);
    }

    /* layout sections */

    .stack-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.15fr) minmax(0, 1fr);
      gap: 16px;
    }

    @media (max-width: 960px) {
      .stack-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      background: radial-gradient(circle at top, #020617, #020617 60%, #020617);
      padding: 16px 14px 14px;
      box-shadow: var(--shadow-subtle);
    }

    .card + .card {
      margin-top: 12px;
    }

    .card-header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }

    .card-title {
      font-size: 17px;
      font-weight: 700;
    }

    .card-subtitle {
      font-size: 12px;
      color: var(--text-soft);
    }

    .badge {
      border-radius: 999px;
      padding: 6px 10px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at top left, #020617, #020617);
      font-size: 11px;
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .badge-dot-green,
    .badge-dot-purple,
    .badge-dot-blue,
    .badge-dot-amber {
      width: 7px;
      height: 7px;
      border-radius: 999px;
    }

    .badge-dot-green { background: #22c55e; }
    .badge-dot-purple { background: #a855f7; }
    .badge-dot-blue { background: #38bdf8; }
    .badge-dot-amber { background: #fbbf24; }

    .metric-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 8px 0 10px;
    }

    .metric-pill {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: #020617;
      color: var(--text-soft);
    }

    .metric-main-number {
      font-size: 19px;
      font-weight: 700;
    }

    .metric-caption {
      font-size: 11px;
      color: var(--text-soft);
    }

    .metric-grid-3 {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 8px;
      margin-top: 10px;
    }

    .metric-box {
      border-radius: 14px;
      border: 1px solid var(--border-soft);
      background: radial-gradient(circle at top, #020617, #020617);
      padding: 10px;
      font-size: 11px;
    }

    .metric-label {
      color: var(--text-soft);
      margin-bottom: 3px;
    }

    .metric-value {
      font-size: 15px;
      font-weight: 600;
    }

    .metric-value-green {
      color: #4ade80;
    }

    .metric-value-red {
      color: #fb7185;
    }

    .metric-value-amber {
      color: #fbbf24;
    }

    .muted {
      color: var(--text-soft);
    }

    .scenario-label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.07em;
      color: var(--text-soft);
      margin-bottom: 4px;
    }

    .scenario-pill {
      border-radius: 999px;
      padding: 6px 10px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      background: #020617;
      font-size: 11px;
      color: var(--text-soft);
      max-width: 100%;
    }

    .headline {
      margin-top: 10px;
      font-size: 13px;
      font-weight: 600;
    }

    .scenario-body {
      margin-top: 6px;
      font-size: 12px;
      color: var(--text-soft);
    }

    .bullet-list {
      margin-top: 4px;
      padding-left: 16px;
      font-size: 12px;
      color: var(--text-soft);
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 8px;
    }

    .chip {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: #020617;
      color: var(--text-soft);
    }

    .cta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
      align-items: center;
    }

    .btn-ghost {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      padding: 6px 12px;
      background: #020617;
      color: var(--text-soft);
      font-size: 12px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .btn-ghost:hover {
      border-color: rgba(148, 163, 184, 0.8);
      color: var(--text);
    }

    .btn-ghost span.icon {
      font-size: 14px;
    }

    /* timeline small viz */

    .timeline {
      margin-top: 10px;
    }

    .timeline-bars {
      margin-top: 8px;
      display: grid;
      gap: 6px;
      font-size: 11px;
    }

    .timeline-row-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 2px;
    }

    .timeline-bar-track {
      height: 6px;
      border-radius: 999px;
      background: #020617;
      border: 1px solid #1f2937;
      overflow: hidden;
    }

    .timeline-bar-fill {
      height: 100%;
      border-radius: 999px;
      background: linear-gradient(90deg, #22c55e, #4ade80);
    }

    .timeline-bar-fill-draw {
      background: linear-gradient(90deg, #38bdf8, #0ea5e9);
    }

    .timeline-bar-fill-away {
      background: linear-gradient(90deg, #fb923c, #f97316);
    }

    .timeline-axis {
      font-size: 10px;
      color: var(--text-soft);
      display: flex;
      justify-content: space-between;
      margin-top: 5px;
    }

    /* footer API */

    footer {
      margin-top: 24px;
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      padding: 16px 14px 14px;
      background: radial-gradient(circle at top, #020617, #020617);
      box-shadow: var(--shadow-subtle);
    }

    footer pre {
      margin-top: 8px;
      padding: 10px;
      border-radius: 14px;
      background: #020617;
      border: 1px solid #1f2937;
      font-size: 11px;
      overflow-x: auto;
    }

    footer code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="brand">
        <div class="brand-logo"><span>B</span></div>
        <div>
          <div class="brand-text-title">BetSense AI Suite</div>
          <div class="brand-text-sub">
            Quantum Engine ¬∑ Live Match Intelligence Stack
          </div>
        </div>
      </div>
      <div class="status-pill">
        <span class="status-dot"></span>
        <span>Backend running on Render</span>
      </div>
    </header>

    <!-- HERO -->
    <section class="hero">
      <div>
        <div class="hero-main-title">One suite. <span style="color:#38bdf8">Four unique engines</span> plus an Ultra Edge layer.</div>
        <p class="hero-main-sub">
          BetSense AI Suite connects BetSense Engine, Emotion Engine, Ultra Edge Layer and AI Match Reports into an operator-ready stack ‚Äî giving traders, partners and investors a single view of how your models already behave in live markets.
        </p>

        <div class="hero-toggle-row">
          <div class="toggle-pill">
            <button id="demoModeStatic" class="active">Realtime demo ‚Äì static sample data</button>
            <button id="demoModeLive">Live engine wired to mock feed</button>
          </div>
        </div>

        <p class="hero-tagline">
          Live-match analytics built for <span class="highlight">desks, boards & investors</span> ‚Äî not hobby users.
        </p>

        <div class="pill-row">
          <span class="pill"><span class="pill-dot"></span>4 integrated engines ¬∑ Engine ¬∑ Emotion ¬∑ Ultra Edge ¬∑ Reporting</span>
          <span class="pill"><span class="pill-dot"></span>API-first architecture ¬∑ Drop-in layer on top of your feed</span>
        </div>
        <div class="pill-row">
          <span class="pill"><span class="pill-dot"></span>Live-match analytics ¬∑ xG ¬∑ micro-moments ¬∑ edge tracking</span>
          <span class="pill"><span class="pill-dot"></span>Desks, boards & investors ¬∑ decision-makers, not retail users</span>
        </div>

        <div class="hero-demo">
          <div class="hero-demo-label">Stack snapshot ‚Äì demo match</div>
          <div class="hero-demo-grid">
            <div class="hero-demo-card">
              <div class="hero-demo-label-kicker">Match</div>
              <div class="hero-demo-value-main">Chelsea vs Arsenal</div>
              <div class="hero-demo-sub">EPL-2025-001 ¬∑ Minute 72 ¬∑ Home goal</div>
            </div>
            <div class="hero-demo-card">
              <div class="hero-demo-label-kicker">Home win probability</div>
              <div class="hero-demo-value-main"><span id="heroProb">68%</span> ‚Üí 74%</div>
              <div class="hero-demo-sub">Pre 2.40 ¬∑ Post 1.70</div>
            </div>
            <div class="hero-demo-card">
              <div class="hero-demo-label-kicker">BetSense edge vs market</div>
              <div class="hero-demo-value-main" style="color:#22c55e">+3.1% vs market</div>
              <div class="hero-demo-sub">Edge window: 180s</div>
            </div>
            <div class="hero-demo-card">
              <div class="hero-demo-label-kicker">Risk stance</div>
              <div class="hero-demo-value-main">Comfortable, monitor comeback</div>
              <div class="hero-demo-sub">Trading desk summary</div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: QUANTUM ENGINE / WIN PROBS -->
      <div>
        <div class="card">
          <div class="card-header-row">
            <div>
              <div class="card-title">BetSense Quantum Engine ‚Äì live demo</div>
              <div class="card-subtitle">
                One view for live xG, shots, dangerous possessions and corners from the current feed.
              </div>
            </div>
            <span class="badge">
              <span class="badge-dot-green"></span>
              Backend running on Render
            </span>
          </div>

          <div class="metric-grid-3">
            <div class="metric-box">
              <div class="metric-label">xG (home model)</div>
              <div class="metric-value" id="metricXgHome">1.32</div>
              <div class="metric-caption">Model only, single fixture</div>
            </div>
            <div class="metric-box">
              <div class="metric-label">Shots on target</div>
              <div class="metric-value" id="metricShotsOn">4</div>
              <div class="metric-caption">Home side pressure</div>
            </div>
            <div class="metric-box">
              <div class="metric-label">Dangerous attacks</div>
              <div class="metric-value" id="metricDanger">28</div>
              <div class="metric-caption">Box entries &amp; big moves</div>
            </div>
          </div>

          <div class="metric-grid-3" style="margin-top:10px">
            <div class="metric-box">
              <div class="metric-label">Corners</div>
              <div class="metric-value" id="metricCorners">5</div>
              <div class="metric-caption">Sustained territory</div>
            </div>
            <div class="metric-box">
              <div class="metric-label">Source</div>
              <div class="metric-value" id="metricSource">demo</div>
              <div class="metric-caption" id="metricSourceCaption">Demo payload (fallback)</div>
            </div>
            <div class="metric-box">
              <div class="metric-label">Snapshot</div>
              <div class="metric-value">Refreshable</div>
              <div class="metric-caption">Single-match lens</div>
            </div>
          </div>

          <div class="cta-row">
            <button class="btn-ghost" id="btnRefreshQuantum">
              <span class="icon">‚Üª</span> Refresh snapshot
            </button>
            <span class="muted" style="font-size:11px">
              In production this runs directly on your live feed.
            </span>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="card-header-row">
            <div class="card-title">Win probabilities</div>
            <button class="btn-ghost" id="btnRefreshWin">
              <span class="icon">‚Üª</span> Refresh
            </button>
          </div>
          <p class="card-subtitle">
            Implied probabilities vs market, normalised to 100%. Perfect for visualising how the model reads the current match context.
          </p>

          <div class="metric-grid-3" style="margin-top:10px">
            <div class="metric-box">
              <div class="metric-label">Home win</div>
              <div class="metric-value" id="wpHome">54%</div>
              <div class="metric-caption">Model view</div>
            </div>
            <div class="metric-box">
              <div class="metric-label">Draw</div>
              <div class="metric-value" id="wpDraw">24%</div>
              <div class="metric-caption">Model view</div>
            </div>
            <div class="metric-box">
              <div class="metric-label">Away win</div>
              <div class="metric-value" id="wpAway">22%</div>
              <div class="metric-caption">Model view</div>
            </div>
          </div>

          <p class="muted" style="margin-top:8px;font-size:11px">
            Sum: 100% ¬∑ Demo probabilities (fallback) ¬∑ Output is illustrative only. In production, this card runs directly on your live feed.
          </p>
        </div>
      </div>
    </section>

    <!-- STACK GRID MAIN -->
    <section class="stack-grid">
      <!-- LEFT COLUMN: EMOTION ENGINES & TIMELINE -->
      <div>
        <!-- EMOTION ENGINE V1 -->
        <div class="card">
          <div class="card-header-row">
            <div>
              <div class="card-title">Emotion Engine ‚Äì Quick &amp; Deep</div>
              <div class="card-subtitle">
                Turn live-match chaos into a narrative your traders, investors and marketing teams can act on in seconds.
              </div>
            </div>
            <span class="badge">
              <span class="badge-dot-green"></span>
              AI output ¬∑ demo language
            </span>
          </div>

          <div class="toggle-pill" style="margin-top:6px;margin-bottom:8px">
            <button id="btnQuickEmotion" class="active">Quick Emotion</button>
            <button id="btnDeepEmotion">Deep Emotion</button>
          </div>

          <div id="emotion-v1-output">
            <!-- quick / deep content injected here -->
          </div>
        </div>

        <!-- PROBABILITY TIMELINE -->
        <div class="card">
          <div class="card-header-row">
            <div>
              <div class="card-title">Probability Timeline</div>
              <div class="card-subtitle">
                Visualise how win probabilities evolve from 0' to 90' in a single match. In production, this runs directly on your live feed.
              </div>
            </div>
          </div>

          <div class="chip-row" style="margin-top:8px">
            <span class="chip">Balanced opener</span>
            <span class="chip">Home pressure</span>
            <span class="chip">Away comeback risk</span>
          </div>

          <div class="timeline">
            <div class="timeline-bars">
              <div>
                <div class="timeline-row-label">
                  <span>Home win %</span><span id="tlHomeLabel">72% at 72'</span>
                </div>
                <div class="timeline-bar-track">
                  <div class="timeline-bar-fill" style="width:72%" id="tlHomeBar"></div>
                </div>
              </div>
              <div>
                <div class="timeline-row-label">
                  <span>Draw %</span><span id="tlDrawLabel">18%</span>
                </div>
                <div class="timeline-bar-track">
                  <div class="timeline-bar-fill-draw" style="width:18%" id="tlDrawBar"></div>
                </div>
              </div>
              <div>
                <div class="timeline-row-label">
                  <span>Away win %</span><span id="tlAwayLabel">10%</span>
                </div>
                <div class="timeline-bar-track">
                  <div class="timeline-bar-fill-away" style="width:10%" id="tlAwayBar"></div>
                </div>
              </div>
            </div>
            <div class="timeline-axis">
              <span>0'</span><span>Late home goal, 72'</span><span>90'</span>
            </div>
            <p class="muted" style="margin-top:6px;font-size:11px">
              Mode: Balanced opener ‚Äî early swings are modest, model still respects all three outcomes until the late goal locks in home momentum.
            </p>
          </div>
        </div>

        <!-- EMOTION ENGINE V2 ‚Äì EXECUTION READY -->
        <div class="card">
          <div class="card-header-row">
            <div>
              <div class="card-title">Emotion Engine V2 ‚Äì Execution-ready lens</div>
              <div class="card-subtitle">
                Version 2 adds execution windows, risk posture and messaging cues on top of the raw Emotion Index ‚Äî built so traders, desks and marketing teams can all read the same moment in one glance.
              </div>
            </div>
            <button class="btn-ghost" id="emotion-v2-next-btn">
              üéØ Next scenario
            </button>
          </div>

          <div id="emotion-v2-output">
            <!-- V2 scenarios injected here -->
          </div>
        </div>
      </div>

      <!-- RIGHT COLUMN: ULTRA EDGE LAYER & REPORTS -->
      <div>
        <!-- ULTRA EDGE LAYER INTRO -->
        <div class="card">
          <div class="card-header-row">
            <div>
              <div class="card-title">Ultra Edge Layer ‚Äî Market, Liquidity &amp; Meta-Odds</div>
              <div class="card-subtitle">
                A supra-enterprise layer built for desks who treat football as a live market, not just a sport. Models sit on top of the Emotion Index and BetSense Engine to create a category-defining stack.
              </div>
            </div>
          </div>

          <!-- Market Psychology -->
          <div style="margin-top:10px">
            <div class="scenario-label">Market Psychology Engine</div>
            <p class="card-subtitle" style="margin-bottom:4px">
              Live narrative of how retail flows and professional money respond to the same event ‚Äî fear, greed, FOMO and exhaustion states in one lens.
            </p>

            <p class="headline">Home pressure turns into FOMO chase</p>
            <div class="bullet-list">
              <li><strong>Crowd tape:</strong> Retail buyers pile into home side after a flurry of shots.</li>
              <li><strong>Professional tape:</strong> Pro money already long, now trimming into the surge.</li>
              <li><strong>Regime:</strong> Euphoria with controlled profit-taking.</li>
              <li><strong>Flow split:</strong> Pro 58% ¬∑ Retail 42% of volume.</li>
            </div>

            <div class="chip-row">
              <span class="chip">FOMO bid</span>
              <span class="chip">Smart-money trim</span>
              <span class="chip">Late buyers vulnerable</span>
            </div>
          </div>
        </div>

        <!-- Liquidity / Meta-Odds / Order-book / Drift Curve -->
        <div class="card">
          <div class="scenario-label">Liquidity Heat Radar</div>
          <p class="card-subtitle">
            Visualises where money is clustering through the game ‚Äî quiet pools, crowded trades and stress points for risk teams.
          </p>

          <p class="headline">Liquidity clusters around home win</p>
          <div class="bullet-list">
            <li><strong>Heat:</strong> Home: High ¬∑ Draw: Medium ¬∑ Away: Thin.</li>
            <li><strong>Stress:</strong> Risk sits in home clean-sheet and late equaliser paths.</li>
            <li><strong>Depth pockets:</strong> Tight spreads 1.60‚Äì1.75, air pockets above 1.90.</li>
          </div>
          <div class="chip-row">
            <span class="chip">Order-book tone</span>
            <span class="chip">Stress pockets</span>
            <span class="chip">Edge density</span>
          </div>

          <hr style="border:none;border-top:1px solid #1f2937;margin:12px 0" />

          <div class="scenario-label">Meta-Odds Engine</div>
          <p class="card-subtitle">
            A synthetic price built from all books + behaviour ‚Äî the closest thing to a ‚Äútrue‚Äù global odds line.
          </p>
          <p class="muted" style="margin-top:4px;font-size:12px">
            <strong>Market odds:</strong> Home 1.85 ¬∑ Draw 3.20 ¬∑ Away 4.40<br />
            <strong>Meta-odds:</strong> Home 1.78 ¬∑ Draw 3.35 ¬∑ Away 4.75
          </p>
          <p class="scenario-body">
            <strong>Signal:</strong> Books slowly concede edge ‚Äî home implied probability migrates toward BetSense view. Alert: +2.9% structural edge vs blended market.
          </p>
          <div class="chip-row">
            <span class="chip">Global line</span>
            <span class="chip">Compression</span>
            <span class="chip">Mispricing alert</span>
          </div>

          <hr style="border:none;border-top:1px solid #1f2937;margin:12px 0" />

          <div class="scenario-label">Orderbook Simulator</div>
          <p class="card-subtitle">
            Light-touch simulation of how the virtual order-book can evolve after key moments ‚Äî base case, fade case and blow-off case.
          </p>
          <p class="headline">Base case ‚Äì controlled repricing</p>
          <div class="bullet-list">
            <li>First 30s: spreads widen, quotes chase new fair level.</li>
            <li>30‚Äì90s: depth rebuilds around tighter band, volatility cools.</li>
            <li>Beyond 90s: market trades within new, narrower corridor.</li>
          </div>
          <p class="scenario-body">
            <strong>Desk cue:</strong> Scale fills as depth returns; avoid first swing.
          </p>
          <div class="chip-row">
            <span class="chip">Rebuild depth</span>
            <span class="chip">Avoid first print</span>
            <span class="chip">Scale in</span>
          </div>

          <hr style="border:none;border-top:1px solid #1f2937;margin:12px 0" />

          <div class="scenario-label">Emotion Drift Curve</div>
          <p class="card-subtitle">
            Tracks how market emotion drifts over the full match ‚Äî from balanced openers to panic, capitulation or quiet control.
          </p>
          <p class="headline">Slow burn towards home control</p>
          <div class="bullet-list">
            <li>0'‚Äì25': Balanced opener, no dominant edge.</li>
            <li>25'‚Äì55': Home pressure builds quietly, xG tilts.</li>
            <li>55'‚Äì75': Emotion Index shifts from cautious to confident.</li>
            <li>75'‚Äì90': Market treats home as sticky favourite.</li>
          </div>
          <p class="scenario-body">
            <strong>Regime:</strong> Gradual accumulation, low headline drama.
          </p>
          <div class="chip-row">
            <span class="chip">Regime shifts</span>
            <span class="chip">Drift vs shock</span>
            <span class="chip">Emotion bands</span>
          </div>
        </div>

        <!-- AI MATCH REPORT -->
        <div class="card">
          <div class="card-header-row">
            <div>
              <div class="card-title">AI Match Report ‚Äî Simple &amp; Full</div>
              <div class="card-subtitle">
                Generate management-ready or investor-ready match summaries in one click from the same live context. In production this connects directly to your reporting stack and PDF export.
              </div>
            </div>
          </div>

          <p class="scenario-label" style="margin-top:8px">1. Define the report focus</p>
          <p class="scenario-body">
            Derby match, late goal for home side, odds move from 2.40 to 1.70.
          </p>

          <p class="scenario-label" style="margin-top:10px">2. Choose report depth</p>
          <div class="toggle-pill" style="margin-top:4px;margin-bottom:8px">
            <button class="active">Simple report ‚Äî 1-page summary</button>
            <button>Full report ‚Äî investor-level detail</button>
          </div>

          <p class="headline">Key scenario</p>
          <p class="scenario-body">
            Home side finally converts sustained pressure into a late goal, with match odds moving from 2.40 to 1.70 and implied probability from 41% to 59%.
          </p>

          <p class="headline" style="margin-top:8px">Headline</p>
          <p class="scenario-body">
            Market and momentum align as home goal locks in a new probability regime.
          </p>

          <p class="headline" style="margin-top:8px">Trading summary</p>
          <div class="bullet-list">
            <li>BetSense Engine highlights a clear break in the probability trend after the key event.</li>
            <li>Emotion Engine validates that sentiment supports the move.</li>
            <li>Ultra Edge Layer shows no structural stress in liquidity.</li>
          </div>
        </div>
      </div>
    </section>

    <!-- API FOOTER -->
    <footer>
      <div class="card-header-row" style="margin-bottom:4px">
        <div>
          <div class="card-title">Live API hook ‚Äî plug your feeds in</div>
          <div class="card-subtitle">
            In production, the same views run directly on your live prices, stats and social data via a single API layer. This demo runs on static sample data plus a live mock engine, but the architecture is designed to sit on top of your existing stack.
          </div>
        </div>
      </div>

      <ul class="bullet-list" style="margin-top:6px">
        <li>Trading teams and risk &amp; PnL desks</li>
        <li>Executive and investor reporting</li>
        <li>External partners and white-label clients</li>
      </ul>

      <pre><code>POST /api/live-input
Content-Type: application/json
X-API-Key: YOUR_KEY_HERE

{
  "matchId": "EPL-2025-001",
  "minute": 72,
  "homeTeam": "Chelsea",
  "awayTeam": "Arsenal",
  "stats": {
    "shotsHome": 12,
    "shotsAway": 7,
    "xgHome": 2.1,
    "xgAway": 0.9
  },
  "odds": {
    "home": 1.70,
    "draw": 3.20,
    "away": 4.40
  }
}</code></pre>

      <p class="muted" style="margin-top:8px;font-size:11px">
        BetSense AI Suite ‚Äì demo environment. All numbers and narratives are illustrative only and do not constitute betting advice or an offer.
      </p>
    </footer>
  </div>

  <script>
    // ===== Emotion Engine V1 (Quick / Deep) =====
    const emotionV1Scenarios = {
      quick: {
        title: "QUICK READ: HOME CONFIDENCE UNLOCKS",
        body:
          "The late home goal snaps the market into a new regime. Home odds compress sharply while draw and away prices drift. Emotion Index sees a clear shift from nervous energy to confident momentum on the home side, with social and in-stadium signals amplifying the move rather than contradicting it.",
        bullets: [
          "Home finally converts sustained pressure into scoreboard control.",
          "Retail money chases the move; professional money scales rather than panics.",
          "Volatility cools as the market accepts the new favourite regime."
        ],
        tags: ["Regime break", "Sticky confidence", "Crowd in sync"]
      },
      deep: {
        title: "DEEP READ: SENTIMENT, FLOW & REGIME",
        body:
          "Across pre-match, first half and the post-goal phase, the Emotion Index tracks a steady migration from cautious optimism to confident control on the home side. Social, venue and pricing signals line up instead of fighting each other, giving desks a clean read on when risk actually improved.",
        bullets: [
          "Pre-match: mild home bias, but price and sentiment still respect all three outcomes.",
          "First half: home pressure and xG tilt, yet frustration keeps Emotion Index below full conviction.",
          "Post-goal: conviction band breaks higher, with very little evidence of an overreaction spike."
        ],
        tags: ["Process over noise", "Conviction bands", "Desk-ready narrative"]
      }
    };

    function renderEmotionV1(mode) {
      const container = document.getElementById("emotion-v1-output");
      const data = emotionV1Scenarios[mode];
      if (!container || !data) return;

      const bulletsHtml = data.bullets
        .map((b) => "<li>" + b + "</li>")
        .join("");

      const tagsHtml = data.tags
        .map((t) => '<span class="chip">' + t + "</span>")
        .join("");

      container.innerHTML = `
        <div class="scenario-label">
          ${mode === "quick" ? "Quick read ‚Äî trading lens" : "Deep read ‚Äî full-context lens"}
        </div>
        <p class="headline">${data.title}</p>
        <p class="scenario-body">${data.body}</p>
        <div class="bullet-list">
          ${bulletsHtml}
        </div>
        <div class="chip-row" style="margin-top:8px">
          ${tagsHtml}
        </div>
      `;
    }

    // ===== Emotion Engine V2 (Execution scenarios) =====
    const emotionV2Scenarios = [
      {
        keyScenario: "Derby match, late home goal, odds move from 2.40 to 1.70.",
        executionWindow: "90‚Äì240 seconds after goal",
        executionView:
          "Market impact is strongest while crowd and social sentiment are still repricing the new reality. Engine suggests scaling in rather than all-in fills.",
        headline:
          "Home side turns pressure into a decisive advantage, with odds and market mood moving in sync.",
        tradingSummary: [
          "BetSense Engine highlights a clear break in the probability trend after the key event.",
          "Price move is supported by volume and sentiment, not just retail noise.",
          "Risk position is comfortable but requires monitoring if a second goal arrives."
        ],
        commsCues: [
          "Desk briefs management as 'controlled exposure with positive skew'.",
          "Marketing frames the story as 'home confidence finally pays off'."
        ],
        tags: ["Tone: Confident ¬∑ Not euphoric", "Board-ready narrative", "Desk summary", "Post-match pack"]
      },
      {
        keyScenario: "Cup tie, away equaliser in 88', odds swing from 1.60 to 2.30.",
        executionWindow: "0‚Äì120 seconds after away goal",
        executionView:
          "Emotion Index shows home despair spike, but underlying xG still balanced. Suggest trimming rather than flipping the entire book.",
        headline:
          "Scoreboard shock is bigger than underlying process shift.",
        tradingSummary: [
          "Model flags that pre-goal dominance was overstated by crowd noise.",
          "Sentiment overshoots, but liquidity on away side is still thin.",
          "Risk desk is advised to reduce exposure without chasing worst prices."
        ],
        commsCues: [
          "Internal note: 'Shock, not regime change.'",
          "External line: 'Equaliser keeps the tie alive, not turns it on its head.'"
        ],
        tags: ["Shock vs drift", "Avoid over-rotation", "Process-first message"]
      },
      {
        keyScenario: "League game, early red card for away team, odds move from 2.10 to 1.55.",
        executionWindow: "First 300 seconds after card",
        executionView:
          "Emotion Index jumps quickly but then plateaus as market digests the new baseline. Engine prefers staggered entry instead of immediate max-size fills.",
        headline:
          "Structural advantage appears, but market is quick to price most of it in.",
        tradingSummary: [
          "Live data confirms territorial shift rather than pure emotion swing.",
          "Liquidity pockets form around the new home price band.",
          "Desks keep some capacity for opportunistic adds if away resilience fades."
        ],
        commsCues: [
          "Risk decks: 'Favourable structure, staged execution.'",
          "Exec brief: 'Advantage real, but not a free roll.'"
        ],
        tags: ["Structural edge", "Execution window", "Card-state regime"]
      }
    ];

    let emotionV2Index = 0;

    function renderEmotionV2() {
      const container = document.getElementById("emotion-v2-output");
      const data = emotionV2Scenarios[emotionV2Index];
      if (!container || !data) return;

      const tradingHtml = data.tradingSummary
        .map((t) => "<li>" + t + "</li>")
        .join("");

      const commsHtml = data.commsCues
        .map((c) => "<li>" + c + "</li>")
        .join("");

      const tagsHtml = data.tags
        .map((t) => '<span class="chip">' + t + "</span>")
        .join("");

      container.innerHTML = `
        <div class="scenario-label">Key scenario</div>
        <p class="scenario-body">${data.keyScenario}</p>

        <div class="headline" style="margin-top:10px">Execution engine view</div>
        <p class="scenario-body"><strong>Trade window:</strong> ${data.executionWindow}</p>
        <p class="scenario-body">${data.executionView}</p>

        <div class="headline" style="margin-top:10px">Headline</div>
        <p class="scenario-body">${data.headline}</p>

        <div class="headline" style="margin-top:10px">Trading summary</div>
        <div class="bullet-list">
          ${tradingHtml}
        </div>

        <div class="headline" style="margin-top:10px">Communication cues</div>
        <div class="bullet-list">
          ${commsHtml}
        </div>

        <div class="chip-row" style="margin-top:8px">
          ${tagsHtml}
        </div>
      `;
    }

    // ===== Win probabilities & timeline refresh =====
    function refreshWinProbs() {
      const baseHome = 62;
      const baseDraw = 27;
      const baseAway = 11;

      // small random wobble
      let home = baseHome + (Math.random() * 6 - 3);
      let draw = baseDraw + (Math.random() * 4 - 2);
      let away = baseAway + (Math.random() * 4 - 2);

      // normalise
      const sum = home + draw + away;
      home = Math.round((home / sum) * 100);
      draw = Math.round((draw / sum) * 100);
      away = 100 - home - draw;

      const wpHome = document.getElementById("wpHome");
      const wpDraw = document.getElementById("wpDraw");
      const wpAway = document.getElementById("wpAway");

      if (wpHome) wpHome.textContent = home + "%";
      if (wpDraw) wpDraw.textContent = draw + "%";
      if (wpAway) wpAway.textContent = away + "%";

      const tlHomeBar = document.getElementById("tlHomeBar");
      const tlDrawBar = document.getElementById("tlDrawBar");
      const tlAwayBar = document.getElementById("tlAwayBar");
      const tlHomeLabel = document.getElementById("tlHomeLabel");
      const tlDrawLabel = document.getElementById("tlDrawLabel");
      const tlAwayLabel = document.getElementById("tlAwayLabel");

      if (tlHomeBar) tlHomeBar.style.width = home + "%";
      if (tlDrawBar) tlDrawBar.style.width = draw + "%";
      if (tlAwayBar) tlAwayBar.style.width = away + "%";

      if (tlHomeLabel) tlHomeLabel.textContent = home + "% at 72'";
      if (tlDrawLabel) tlDrawLabel.textContent = draw + "%";
      if (tlAwayLabel) tlAwayLabel.textContent = away + "%";

      const heroProb = document.getElementById("heroProb");
      if (heroProb) heroProb.textContent = home + "%";
    }

    // ===== Quantum snapshot refresh =====
    function refreshQuantum() {
      const xgHomeEl = document.getElementById("metricXgHome");
      const shotsOnEl = document.getElementById("metricShotsOn");
      const dangerEl = document.getElementById("metricDanger");
      const cornersEl = document.getElementById("metricCorners");

      const xg = (1.1 + Math.random() * 1.2).toFixed(2);
      const shots = 3 + Math.floor(Math.random() * 6);
      const danger = 18 + Math.floor(Math.random() * 18);
      const corners = 2 + Math.floor(Math.random() * 5);

      if (xgHomeEl) xgHomeEl.textContent = xg;
      if (shotsOnEl) shotsOnEl.textContent = String(shots);
      if (dangerEl) dangerEl.textContent = String(danger);
      if (cornersEl) cornersEl.textContent = String(corners);
    }

    // ===== Demo mode toggle (static vs mock live) =====
    function setDemoMode(mode) {
      const btnStatic = document.getElementById("demoModeStatic");
      const btnLive = document.getElementById("demoModeLive");
      const sourceEl = document.getElementById("metricSource");
      const sourceCapEl = document.getElementById("metricSourceCaption");

      if (!btnStatic || !btnLive) return;

      if (mode === "static") {
        btnStatic.classList.add("active");
        btnLive.classList.remove("active");
        if (sourceEl) sourceEl.textContent = "demo";
        if (sourceCapEl) sourceCapEl.textContent = "Demo payload (fallback)";
      } else {
        btnLive.classList.add("active");
        btnStatic.classList.remove("active");
        if (sourceEl) sourceEl.textContent = "mock";
        if (sourceCapEl) sourceCapEl.textContent = "Mock engine wired to sample feed";
      }
    }

    // ===== Wire everything up =====
    document.addEventListener("DOMContentLoaded", function () {
      // Emotion V1 initial render
      renderEmotionV1("quick");

      const btnQuick = document.getElementById("btnQuickEmotion");
      const btnDeep = document.getElementById("btnDeepEmotion");

      if (btnQuick) {
        btnQuick.addEventListener("click", function () {
          btnQuick.classList.add("active");
          if (btnDeep) btnDeep.classList.remove("active");
          renderEmotionV1("quick");
        });
      }

      if (btnDeep) {
        btnDeep.addEventListener("click", function () {
          btnDeep.classList.add("active");
          if (btnQuick) btnQuick.classList.remove("active");
          renderEmotionV1("deep");
        });
      }

      // Emotion V2
      renderEmotionV2();
      const btnV2Next = document.getElementById("emotion-v2-next-btn");
      if (btnV2Next) {
        btnV2Next.addEventListener("click", function () {
          emotionV2Index = (emotionV2Index + 1) % emotionV2Scenarios.length;
          renderEmotionV2();
        });
      }

      // Win probabilities + timeline
      refreshWinProbs();
      const btnRefreshWin = document.getElementById("btnRefreshWin");
      if (btnRefreshWin) {
        btnRefreshWin.addEventListener("click", function () {
          refreshWinProbs();
        });
      }

      // Quantum
      refreshQuantum();
      const btnRefreshQuantum = document.getElementById("btnRefreshQuantum");
      if (btnRefreshQuantum) {
        btnRefreshQuantum.addEventListener("click", function () {
          refreshQuantum();
        });
      }

      // Demo mode
      const btnStatic = document.getElementById("demoModeStatic");
      const btnLive = document.getElementById("demoModeLive");

      if (btnStatic) {
        btnStatic.addEventListener("click", function () {
          setDemoMode("static");
        });
      }
      if (btnLive) {
        btnLive.addEventListener("click", function () {
          setDemoMode("live");
        });
      }

      setDemoMode("static");
    });
  </script>
</body>
</html>
