<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BetSense Quantum Engine</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      background: radial-gradient(circle at top, #0e0f1a, #06070d);
      color: #e4e6eb;
      font-family: system-ui, sans-serif;
    }
    .card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 18px;
      padding: 22px;
      backdrop-filter: blur(6px);
      transition: 0.2s ease;
    }
    .card:hover {
      background: rgba(255, 255, 255, 0.08);
    }
    .btn {
      width: 100%;
      border-radius: 12px;
      padding: 10px 0;
      color: white;
      font-weight: 600;
    }
  </style>
</head>

<body class="p-6 pb-20">

  <h1 class="text-3xl font-bold mb-2">BetSense Quantum Engine</h1>
  <p class="text-gray-300 mb-6">Production demo & health check for the BetSense AI prediction engine.</p>

  <!-- ENGINE STATUS -->
  <div class="mb-6">
    <span class="px-3 py-1 rounded-full bg-green-600/20 text-green-400 text-sm font-semibold">
      ● Engine: LIVE on Render
    </span>
  </div>

  <!-- CONNECTION -->
  <div class="card mb-8">
    <h2 class="text-xl font-semibold mb-2">Connection status</h2>
    <p id="engineUrl" class="text-sm text-blue-300 mb-3"></p>
    <button id="healthBtn" class="btn bg-blue-600 hover:bg-blue-700">Check health</button>
    <pre id="healthOutput" class="mt-4 text-sm text-gray-300">Loading...</pre>
  </div>

  <!-- DEMO MATCH -->
  <div class="card mb-8">
    <h2 class="text-xl font-semibold mb-2">Demo match snapshot</h2>
    <p class="text-sm text-gray-400">GET /api/match – basic information about the current demo match.</p>
    <button id="matchBtn" class="btn bg-purple-600 hover:bg-purple-700 mt-3">Run</button>
    <pre id="matchOutput" class="mt-4 text-sm text-gray-300">Loading...</pre>
  </div>

  <!-- LIVE STATS -->
  <div class="card mb-8">
    <h2 class="text-xl font-semibold mb-2">Live stats (mock)</h2>
    <p class="text-sm text-gray-400">GET /api/stats – xG, shots, dangerous attacks & corners.</p>
    <button id="statsBtn" class="btn bg-indigo-600 hover:bg-indigo-700 mt-3">Run</button>
    <pre id="statsOutput" class="mt-4 text-sm text-gray-300">Loading...</pre>
  </div>

  <!-- ODDS -->
  <div class="card mb-8">
    <h2 class="text-xl font-semibold mb-2">Pre-match & live odds</h2>
    <p class="text-sm text-gray-400">GET /api/live-odds – odds before kick-off and in-play.</p>
    <button id="oddsBtn" class="btn bg-yellow-600 hover:bg-yellow-700 mt-3">Run</button>
    <pre id="oddsOutput" class="mt-4 text-sm text-gray-300">Loading...</pre>
  </div>

  <!-- WIN PROBABILITIES -->
  <div class="card mb-8">
    <h2 class="text-xl font-semibold mb-2">Win probabilities</h2>
    <p class="text-sm text-gray-400">GET /api/probabilities – implied probabilities vs. market.</p>
    <button id="probBtn" class="btn bg-green-600 hover:bg-green-700 mt-3">Run</button>
    <pre id="probOutput" class="mt-4 text-sm text-gray-300">Loading...</pre>
  </div>

  <!-- EMOTION MODEL -->
  <div class="card mb-8">
    <h2 class="text-xl font-semibold mb-2">Emotion & pressure model</h2>
    <p class="text-sm text-gray-400">Uses a demo payload to compute home vs. away emotional momentum.</p>
    <button id="emotionBtn" class="btn bg-red-600 hover:bg-red-700 mt-3">Run emotion probability</button>
    <pre id="emotionOutput" class="mt-4 text-sm text-gray-300">Loading...</pre>
  </div>

  <!-- FOOTER -->
  <p class="text-center text-gray-500 text-xs mt-10">
    BetSense Quantum Engine · Internal demo UI (English only)<br />
    Backend: Node.js · Frontend: Static HTML + Tailwind
  </p>

  <script>
    const ENGINE = "https://betsense-engine.onrender.com";

    document.getElementById("engineUrl").innerText = ENGINE + "/api/health";

    async function callApi(path, outputElement) {
      try {
        const res = await fetch(ENGINE + path);
        const data = await res.json();
        document.getElementById(outputElement).textContent = JSON.stringify(data, null, 2);
      } catch (e) {
        document.getElementById(outputElement).textContent = "Error: " + e;
      }
    }

    healthBtn.onclick = () => callApi("/api/health", "healthOutput");
    matchBtn.onclick = () => callApi("/api/match", "matchOutput");
    statsBtn.onclick = () => callApi("/api/stats", "statsOutput");
    oddsBtn.onclick = () => callApi("/api/live-odds", "oddsOutput");
    probBtn.onclick = () => callApi("/api/probabilities", "probOutput");
    emotionBtn.onclick = () => callApi("/api/emotion-probability", "emotionOutput");
  </script>

</body>
</html>
