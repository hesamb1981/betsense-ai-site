<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BetSense AI Suite – Unified Sports Intelligence</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-main: #050819;
      --bg-elevated: #090f24;
      --accent: #31e2b2;
      --accent-soft: rgba(49, 226, 178, 0.15);
      --accent-2: #7f5dff;
      --accent-3: #ff7ac2;
      --text-main: #f3f5ff;
      --text-soft: #9aa4d4;
      --border-subtle: rgba(255, 255, 255, 0.06);
      --chip-bg: rgba(255, 255, 255, 0.04);
      --danger: #ff9b5a;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top left, #172047 0, #050819 55%, #02030b 100%);
      color: var(--text-main);
      overflow-x: hidden; /* جلوی عرض ۳ متری را می‌گیرد */
    }

    body {
      display: flex;
      justify-content: center;
    }

    .page-shell {
      width: 100%;
      max-width: 1120px;
      padding: 24px 16px 64px;
    }

    @media (min-width: 768px) {
      .page-shell {
        padding: 32px 0 80px;
      }
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.13em;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: radial-gradient(circle at top left, rgba(127, 93, 255, 0.45), rgba(17, 24, 56, 0.95));
      color: #e8ebff;
    }

    .pill-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: radial-gradient(circle, #31e2b2, #0fb58c);
      box-shadow: 0 0 10px rgba(49, 226, 178, 0.8);
    }

    header.hero {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 32px;
    }

    @media (min-width: 900px) {
      header.hero {
        flex-direction: row;
        justify-content: space-between;
        align-items: flex-start;
        gap: 32px;
      }
    }

    .hero-main {
      flex: 1.2;
    }

    .hero-eyebrow {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .logo-mark {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .logo-circle {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: conic-gradient(from 210deg, #31e2b2, #7f5dff, #ff7ac2, #31e2b2);
      padding: 3px;
      box-shadow: 0 0 16px rgba(127, 93, 255, 0.8);
    }

    .logo-inner {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #1a1e3a, #050819);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 13px;
      color: #ffffff;
    }

    .hero-title {
      font-size: 26px;
      line-height: 1.18;
      margin: 0 0 8px;
    }

    @media (min-width: 768px) {
      .hero-title {
        font-size: 32px;
      }
    }

    .hero-subtitle {
      color: var(--text-soft);
      font-size: 14px;
      max-width: 540px;
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 16px;
    }

    .meta-chip {
      font-size: 11px;
      padding: 5px 10px;
      border-radius: 999px;
      background: var(--chip-bg);
      border: 1px solid rgba(255, 255, 255, 0.06);
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .meta-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: linear-gradient(135deg, #31e2b2, #7f5dff);
    }

    .hero-side {
      flex: 0.9;
      margin-top: 20px;
    }

    @media (min-width: 900px) {
      .hero-side {
        margin-top: 0;
        text-align: right;
      }
    }

    .primary-cta {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: linear-gradient(90deg, #31e2b2, #7f5dff);
      color: #02030b;
      font-weight: 600;
      font-size: 13px;
      box-shadow: 0 0 20px rgba(49, 226, 178, 0.5);
    }

    .primary-cta span.icon {
      font-size: 14px;
    }

    .secondary-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--text-soft);
      font-size: 12px;
      margin-left: 10px;
    }

    .secondary-link span {
      font-size: 14px;
    }

    .language-select-wrap {
      margin-top: 14px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-soft);
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(8, 13, 39, 0.78);
      border: 1px solid rgba(255, 255, 255, 0.12);
    }

    .language-select-wrap select {
      background: transparent;
      border: none;
      color: var(--text-main);
      font-size: 11px;
      outline: none;
    }

    .badge {
      font-size: 10px;
      padding: 3px 7px;
      border-radius: 999px;
      background: rgba(49, 226, 178, 0.14);
      color: #7df1cd;
      border: 1px solid rgba(49, 226, 178, 0.35);
    }

    /* layout grid for cards */
    .grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 16px;
      margin-top: 24px;
    }

    @media (min-width: 900px) {
      .grid-2 {
        grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.1fr);
      }
    }

    .card {
      background: radial-gradient(circle at top left, rgba(49, 226, 178, 0.08), rgba(5, 8, 25, 0.98));
      border-radius: 22px;
      border: 1px solid var(--border-subtle);
      padding: 16px 14px 16px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.6);
    }

    @media (min-width: 768px) {
      .card {
        padding: 18px 18px 18px;
      }
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 12px;
    }

    .card-title {
      font-size: 15px;
      font-weight: 600;
      margin: 0;
    }

    .card-subtitle {
      font-size: 12px;
      color: var(--text-soft);
      margin-top: 4px;
    }

    .chip-soft {
      font-size: 10px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(10, 16, 52, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--text-soft);
    }

    .card-body {
      margin-top: 10px;
      font-size: 12px;
      color: var(--text-soft);
    }

    .field-label {
      font-size: 11px;
      margin-bottom: 4px;
      color: var(--text-soft);
    }

    .textarea {
      width: 100%;
      min-height: 64px;
      border-radius: 14px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: rgba(9, 13, 39, 0.9);
      padding: 8px 10px;
      color: var(--text-main);
      font-size: 12px;
      resize: vertical;
      outline: none;
    }

    .textarea::placeholder {
      color: rgba(154, 164, 212, 0.6);
    }

    .button-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }

    .btn {
      border-radius: 999px;
      padding: 7px 12px;
      font-size: 11px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(8, 13, 39, 0.85);
      color: #e1e6ff;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-primary {
      background: linear-gradient(90deg, #31e2b2, #7f5dff);
      border-color: transparent;
      color: #02030b;
      font-weight: 600;
    }

    .btn-toggle {
      background: rgba(11, 16, 49, 0.95);
    }

    .btn-toggle.active {
      background: linear-gradient(90deg, #31e2b2, #7f5dff);
      color: #02030b;
      border-color: transparent;
    }

    .small-label {
      font-size: 11px;
      color: var(--text-soft);
      margin-top: 8px;
    }

    .output-box {
      margin-top: 12px;
      padding: 10px 11px;
      border-radius: 16px;
      background: rgba(4, 7, 22, 0.96);
      border: 1px dashed rgba(255, 255, 255, 0.16);
      font-size: 12px;
      line-height: 1.5;
      color: var(--text-soft);
      max-height: 210px;
      overflow-y: auto;
    }

    .output-box strong {
      color: #e4e8ff;
    }

    /* chart card */

    .chart-card {
      background: radial-gradient(circle at top left, rgba(127, 93, 255, 0.12), rgba(5, 8, 25, 0.98));
      border-radius: 22px;
      border: 1px solid var(--border-subtle);
      padding: 16px 14px 18px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.6);
    }

    @media (min-width: 768px) {
      .chart-card {
        padding: 18px 18px 22px;
      }
    }

    .scenario-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 14px;
      margin-bottom: 6px;
    }

    .scenario-tab {
      flex: 1 1 90px;
      border-radius: 999px;
      padding: 7px 10px;
      font-size: 11px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: rgba(7, 11, 34, 0.96);
      color: var(--text-soft);
      cursor: pointer;
      text-align: center;
      white-space: nowrap;
    }

    .scenario-tab.active {
      background: radial-gradient(circle at top left, #31e2b2, #7f5dff);
      border-color: transparent;
      color: #02030b;
      font-weight: 600;
      box-shadow: 0 0 18px rgba(49, 226, 178, 0.45);
    }

    .chart-wrapper {
      position: relative;
      margin-top: 10px;
      padding: 10px;
      border-radius: 18px;
      background: radial-gradient(circle at top, rgba(10, 16, 52, 0.9), #050819);
      border: 1px solid rgba(255, 255, 255, 0.08);
      overflow: hidden;
    }

    .chart-inner {
      position: relative;
      width: 100%;
      max-width: 720px;
      margin: 0 auto;
    }

    .chart-inner canvas {
      width: 100% !important;
      height: 260px !important;
    }

    @media (min-width: 900px) {
      .chart-inner canvas {
        height: 280px !important;
      }
    }

    .chart-legend-soft {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: flex-start;
      margin-top: 8px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .legend-dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
    }

    .legend-item {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .mode-caption {
      margin-top: 6px;
      font-size: 11px;
      color: var(--text-soft);
    }

    /* contact */

    .contact-card {
      margin-top: 20px;
      background: radial-gradient(circle at top left, rgba(49, 226, 178, 0.12), rgba(4, 7, 20, 0.98));
      border-radius: 22px;
      border: 1px solid var(--border-subtle);
      padding: 16px 14px 18px;
    }

    @media (min-width: 768px) {
      .contact-card {
        padding: 18px 18px 22px;
      }
    }

    .contact-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 16px;
      margin-top: 10px;
    }

    @media (min-width: 720px) {
      .contact-grid {
        grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
      }
    }

    .contact-list {
      list-style: none;
      padding: 0;
      margin: 0;
      font-size: 12px;
      color: var(--text-soft);
    }

    .contact-list li {
      padding: 6px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .contact-list li:last-child {
      border-bottom: none;
    }

    .contact-list span.label {
      display: inline-block;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.09em;
      color: rgba(154, 164, 212, 0.9);
      margin-right: 8px;
    }

    .contact-cta {
      font-size: 12px;
      color: var(--text-soft);
    }

    .contact-cta button {
      margin-top: 10px;
      padding: 8px 14px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(90deg, #31e2b2, #7f5dff);
      color: #02030b;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
    }

    footer {
      margin-top: 22px;
      font-size: 10px;
      color: rgba(154, 164, 212, 0.7);
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      justify-content: space-between;
      border-top: 1px solid rgba(255, 255, 255, 0.06);
      padding-top: 10px;
    }
  </style>
</head>
<body>
  <main class="page-shell">
    <!-- HERO -->
    <header class="hero">
      <div class="hero-main">
        <div class="hero-eyebrow">
          <div class="logo-mark">
            <div class="logo-circle">
              <div class="logo-inner">BS</div>
            </div>
            <div>
              <div style="font-size:13px;font-weight:600;">BetSense AI Suite</div>
              <div style="font-size:11px;color:var(--text-soft);">Unified sports intelligence stack</div>
            </div>
          </div>
          <span class="pill">
            <span class="pill-dot"></span>
            Realtime AI for bookmakers &amp; trading desks
          </span>
        </div>
        <h1 class="hero-title">
          One suite. Four unique engines for sharper sports decisions.
        </h1>
        <p class="hero-subtitle">
          BetSense AI Suite connects BetSense Engine, HBboard, Emotion Index and LiveApe into one operator-ready platform – built to show investors, buyers and partners what your stack can already do today.
        </p>
        <div class="hero-meta">
          <span class="meta-chip"><span class="meta-dot"></span>4 integrated modules</span>
          <span class="meta-chip">API-ready architecture</span>
          <span class="meta-chip">Live-match analytics</span>
        </div>
      </div>
      <div class="hero-side">
        <button class="primary-cta">
          <span class="icon">⚡</span>
          Explore BetSense AI Suite
        </button>
        <a href="#contact" class="secondary-link">
          Talk to the team
          <span>↗</span>
        </a>
        <div class="language-select-wrap">
          <span>Language</span>
          <select id="language-select">
            <option value="en" selected>English (default)</option>
            <option value="fa">فارسی (Farsi)</option>
            <option value="es">Español</option>
            <option value="pt">Português</option>
            <option value="de">Deutsch</option>
            <option value="fr">Français</option>
            <option value="it">Italiano</option>
            <option value="tr">Türkçe</option>
            <option value="ar">العربية</option>
            <option value="zh">中文 (Chinese)</option>
            <option value="ja">日本語 (Japanese)</option>
            <option value="ko">한국어 (Korean)</option>
            <option value="nl">Nederlands</option>
            <option value="sv">Svenska</option>
            <option value="no">Norsk</option>
            <option value="da">Dansk</option>
            <option value="fi">Suomi</option>
            <option value="pl">Polski</option>
            <option value="cs">Čeština</option>
            <option value="ru">Русский</option>
          </select>
          <span class="badge">Roadmap: full UI</span>
        </div>
      </div>
    </header>

    <!-- MODULES GRID -->
    <section>
      <div class="grid grid-2">
        <!-- Emotion Engine -->
        <article class="card">
          <div class="card-header">
            <div>
              <h2 class="card-title">Emotion Engine – Quick &amp; Deep</h2>
              <p class="card-subtitle">
                Turn live-match chaos into a narrative your traders and investors can understand in seconds.
              </p>
            </div>
            <span class="chip-soft">Emotion Index module</span>
          </div>

          <div class="card-body">
            <label class="field-label" for="emotion-scenario">
              1. Describe the scenario
            </label>
            <textarea
              id="emotion-scenario"
              class="textarea"
              placeholder="Derby match, late goal for home side, big odds move from 2.40 to 1.70"
            ></textarea>

            <p class="small-label">
              2. Choose analysis mode
            </p>
            <div class="button-row">
              <button class="btn btn-toggle active" id="btn-quick-emotion">
                Quick Emotion
              </button>
              <button class="btn btn-toggle" id="btn-deep-emotion">
                Deep Emotion
              </button>
            </div>

            <div class="output-box" id="emotion-output">
              <strong>Waiting for input…</strong><br />
              Type a short scenario above and choose Quick or Deep to see how Emotion Engine might describe the situation for trading, marketing or investors.
            </div>
          </div>
        </article>

        <!-- Probability Timeline -->
        <article class="chart-card">
          <div class="card-header">
            <div>
              <h2 class="card-title">Probability Timeline – 0’ to 90’</h2>
              <p class="card-subtitle">
                Visualise how model win probabilities evolve through key match states – ideal for trading and investor decks.
              </p>
            </div>
            <span class="chip-soft">BetSense Engine</span>
          </div>

          <div class="scenario-tabs">
            <button class="scenario-tab active" data-scenario="balanced">
              Balanced opener
            </button>
            <button class="scenario-tab" data-scenario="home">
              Home pressure
            </button>
            <button class="scenario-tab" data-scenario="away">
              Away comeback
            </button>
          </div>

          <div class="chart-wrapper">
            <div class="chart-inner">
              <canvas id="timeline-chart"></canvas>
            </div>
            <div class="chart-legend-soft">
              <span class="legend-item">
                <span class="legend-dot" style="background:#31e2b2;"></span>
                Home win %
              </span>
              <span class="legend-item">
                <span class="legend-dot" style="background:#7f5dff;"></span>
                Draw %
              </span>
              <span class="legend-item">
                <span class="legend-dot" style="background:#ff9b5a;"></span>
                Away win %
              </span>
            </div>
            <p class="mode-caption" id="timeline-caption">
              Mode: Balanced opener – early swings are modest, market still respects all three outcomes.
            </p>
          </div>
        </article>
      </div>
    </section>

    <!-- MATCH REPORTS -->
    <section style="margin-top:22px;">
      <article class="card">
        <div class="card-header">
          <div>
            <h2 class="card-title">AI Match Report – Simple &amp; Full</h2>
            <p class="card-subtitle">
              Generate operator-ready or investor-ready match summaries in one click. Re-use the Emotion Engine scenario or define a new focus.
            </p>
          </div>
          <span class="chip-soft">Export-ready templates</span>
        </div>

        <div class="card-body">
          <label class="field-label" for="report-scenario">
            1. Define the report focus
          </label>
          <textarea
            id="report-scenario"
            class="textarea"
            placeholder="Optional: refine the scenario you want in the report (league, scoreline, odds move, key events)…"
          ></textarea>

          <p class="small-label">
            2. Choose report depth
          </p>
          <div class="button-row">
            <button class="btn btn-toggle active" id="btn-simple-report">
              Simple report – 1-page summary
            </button>
            <button class="btn btn-toggle" id="btn-full-report">
              Full report – multi-section investor view
            </button>
          </div>

          <div class="output-box" id="report-output">
            <strong>Report preview</strong><br />
            Waiting for a report type… choose Simple or Full to see how an AI-generated report might read for your scenario.
          </div>
        </div>
      </article>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <article class="contact-card">
        <div class="card-header" style="margin-bottom:6px;">
          <div>
            <h2 class="card-title">Talk to the BetSense team</h2>
            <p class="card-subtitle">
              Ready to discuss pilots, custom feeds or white-label options? Reach the right contact in one step.
            </p>
          </div>
          <span class="chip-soft">Contact</span>
        </div>

        <div class="contact-grid">
          <div>
            <ul class="contact-list">
              <li>
                <span class="label">Support</span>
                support@betsense.casino
              </li>
              <li>
                <span class="label">Product &amp; sales</span>
                info@betsense.casino
              </li>
              <li>
                <span class="label">Partnerships</span>
                admin@betsense.casino
              </li>
            </ul>
          </div>
          <div class="contact-cta">
            Use these addresses to route questions directly to support, product or management.  
            For investor demos we recommend a short call to align on leagues, feeds and timelines.
            <br />
            <button type="button" onclick="window.location.href='mailto:info@betsense.casino?subject=BetSense%20AI%20Suite%20enquiry';">
              Book a call with BetSense
            </button>
          </div>
        </div>
      </article>
    </section>

    <footer>
      <span>BetSense AI Suite – demo interface. Copy and flows for illustration only.</span>
      <span>Built for pilots first, then scale.</span>
    </footer>
  </main>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script>
    // LANGUAGE SELECTOR (فقط پیام کوچک برای الان)
    const langSelect = document.getElementById('language-select');
    langSelect.addEventListener('change', () => {
      if (langSelect.value === 'fa') {
        alert('Persian (فارسی) UI is on the roadmap – main demo remains in English for now.');
      }
    });

    // EMOTION ENGINE DEMO
    const emotionScenario = document.getElementById('emotion-scenario');
    const emotionOutput = document.getElementById('emotion-output');
    const btnQuickEmotion = document.getElementById('btn-quick-emotion');
    const btnDeepEmotion = document.getElementById('btn-deep-emotion');

    function setEmotionMode(mode) {
      btnQuickEmotion.classList.toggle('active', mode === 'quick');
      btnDeepEmotion.classList.toggle('active', mode === 'deep');

      const scenario =
        (emotionScenario.value && emotionScenario.value.trim()) ||
        'Derby match, late goal for home side, big odds move from 2.40 to 1.70';

      if (mode === 'quick') {
        emotionOutput.innerHTML =
          '<strong>Quick Emotion snapshot</strong><br>' +
          '• Scenario: ' + scenario + '<br>' +
          '• Mood shift: cautious optimism → confident momentum on home side.<br>' +
          '• Trading signal: price move is supported by volume and shot profile, not just retail noise.<br>' +
          'Use this view for live trading and fast comms with non-technical teams.';
      } else {
        emotionOutput.innerHTML =
          '<strong>Deep Emotion narrative</strong><br>' +
          'Scenario: ' + scenario + '<br><br>' +
          'Emotion Engine stitches behaviour, odds and tempo into a single storyline. ' +
          'It highlights where pressure truly flips the market – showing when traders can lean into momentum, ' +
          'and when the move is driven by fragile sentiment.<br><br>' +
          'Use this narrative in investor decks, operator reviews or long-form trading notes.';
      }
    }

    btnQuickEmotion.addEventListener('click', () => setEmotionMode('quick'));
    btnDeepEmotion.addEventListener('click', () => setEmotionMode('deep'));
    setEmotionMode('quick'); // default

    // TIMELINE CHART
    const minutes = [0, 15, 30, 45, 60, 75, 90];

    const scenarios = {
      balanced: {
        label: 'Balanced opener',
        caption:
          'Mode: Balanced opener – early swings are modest, market still respects all three outcomes.',
        home: [0.40, 0.45, 0.50, 0.56, 0.54, 0.59, 0.63],
        draw: [0.34, 0.33, 0.31, 0.29, 0.27, 0.25, 0.22],
        away: [0.26, 0.22, 0.19, 0.15, 0.19, 0.16, 0.15]
      },
      home: {
        label: 'Home pressure',
        caption:
          'Mode: Home pressure – sustained attacks push the home curve higher while away drifts.',
        home: [0.40, 0.48, 0.56, 0.61, 0.65, 0.69, 0.73],
        draw: [0.32, 0.29, 0.25, 0.22, 0.19, 0.17, 0.15],
        away: [0.28, 0.23, 0.19, 0.17, 0.16, 0.14, 0.12]
      },
      away: {
        label: 'Away comeback',
        caption:
          'Mode: Away comeback – home curve stalls as a late surge and goal flip the live picture.',
        home: [0.55, 0.52, 0.48, 0.42, 0.38, 0.34, 0.30],
        draw: [0.27, 0.28, 0.29, 0.30, 0.28, 0.27, 0.24],
        away: [0.18, 0.20, 0.23, 0.28, 0.34, 0.39, 0.46]
      }
    };

    const ctx = document.getElementById('timeline-chart').getContext('2d');

    let timelineChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: minutes,
        datasets: [
          {
            label: 'Home win %',
            data: scenarios.balanced.home,
            borderColor: '#31e2b2',
            backgroundColor: 'rgba(49,226,178,0.15)',
            borderWidth: 2,
            tension: 0.35,
            fill: true
          },
          {
            label: 'Draw %',
            data: scenarios.balanced.draw,
            borderColor: '#7f5dff',
            backgroundColor: 'rgba(127,93,255,0.15)',
            borderWidth: 2,
            tension: 0.35,
            fill: true
          },
          {
            label: 'Away win %',
            data: scenarios.balanced.away,
            borderColor: '#ff9b5a',
            backgroundColor: 'rgba(255,155,90,0.18)',
            borderWidth: 2,
            tension: 0.35,
            fill: true
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          x: {
            ticks: {
              color: '#9aa4d4',
              callback: (val) => minutes[val] + '’'
            },
            grid: {
              color: 'rgba(154,164,212,0.12)'
            }
          },
          y: {
            min: 0,
            max: 1,
            ticks: {
              stepSize: 0.2,
              color: '#9aa4d4',
              callback: (val) => Math.round(val * 100) + '%'
            },
            grid: {
              color: 'rgba(154,164,212,0.08)'
            }
          }
        },
        plugins: {
          legend: { display: false },
          tooltip: {
            callbacks: {
              label: (ctx) => ctx.dataset.label + ': ' + Math.round(ctx.parsed.y * 100) + '%'
            }
          }
        }
      }
    });

    const captionEl = document.getElementById('timeline-caption');
    const scenarioTabs = document.querySelectorAll('.scenario-tab');

    function setScenario(key) {
      const s = scenarios[key];
      timelineChart.data.datasets[0].data = s.home;
      timelineChart.data.datasets[1].data = s.draw;
      timelineChart.data.datasets[2].data = s.away;
      timelineChart.update();

      captionEl.textContent = s.caption;
      scenarioTabs.forEach((tab) => {
        tab.classList.toggle('active', tab.dataset.scenario === key);
      });
    }

    scenarioTabs.forEach((tab) => {
      tab.addEventListener('click', () => setScenario(tab.dataset.scenario));
    });

    // MATCH REPORT DEMO
    const reportScenario = document.getElementById('report-scenario');
    const reportOutput = document.getElementById('report-output');
    const btnSimpleReport = document.getElementById('btn-simple-report');
    const btnFullReport = document.getElementById('btn-full-report');

    function setReportMode(mode) {
      btnSimpleReport.classList.toggle('active', mode === 'simple');
      btnFullReport.classList.toggle('active', mode === 'full');

      const scenario =
        (reportScenario.value && reportScenario.value.trim()) ||
        (emotionScenario.value && emotionScenario.value.trim()) ||
        'Derby match, late goal for home side, odds move from 2.40 to 1.70.';

      if (mode === 'simple') {
        reportOutput.innerHTML =
          '<strong>SIMPLE MATCH REPORT</strong><br><br>' +
          'Key scenario: ' + scenario + '<br><br>' +
          '<strong>Headline:</strong><br>' +
          'Home side turns pressure into a decisive advantage, with odds and market mood moving in sync.<br><br>' +
          '<strong>Trading summary:</strong><br>' +
          '• BetSense Engine highlights a clear break in probability trend after the key event.<br>' +
          '• Price move is supported by volume and shot profile, not just retail noise.<br>' +
          '• Risk position is comfortable but requires monitoring if a second goal arrives.<br><br>' +
          'Use this view for fast communication with management or non-technical stakeholders.';
      } else {
        reportOutput.innerHTML =
          '<strong>FULL MATCH REPORT – INVESTOR VIEW</strong><br><br>' +
          '<strong>Scenario overview</strong><br>' +
          scenario + '<br><br>' +
          '1. <strong>Market structure &amp; price action</strong><br>' +
          'BetSense Engine tracked live probabilities from kick-off to full time. The late goal acts as an inflection point: ' +
          'home probability accelerates, draw collapses and away drifts, mirroring the move in quoted odds.<br><br>' +
          '2. <strong>Emotion Index &amp; behavioural signals</strong><br>' +
          'Emotion Index shows a clean shift from cautious optimism to confident momentum on the home side. ' +
          'LiveApe confirms a tactical change on the pitch – higher press, more shots and visible energy in the stadium. ' +
          'Social feeds amplify the move but do not lead it, which is typically a healthy pattern for trading desks.<br><br>' +
          '3. <strong>Risk, PnL and exposure notes</strong><br>' +
          '• Concentration risk now sits inside the home win bucket after the move in price.<br>' +
          '• Draw and away positions provide a partial hedge but may need re-balancing if a second goal lands.<br>' +
          '• From an investor standpoint this fixture is a clean case study in how BetSense AI turns noisy live data into a structured, explainable narrative.<br><br>' +
          '4. <strong>Next-step recommendations</strong><br>' +
          'For operators: integrate this report template into post-match reviews for trading and management. ' +
          'For investors: use similar case studies to understand win-probability edges and capital efficiency across the portfolio.';
      }
    }

    btnSimpleReport.addEventListener('click', () => setReportMode('simple'));
    btnFullReport.addEventListener('click', () => setReportMode('full'));
    setReportMode('simple'); // default
  </script>
</body>
</html>
