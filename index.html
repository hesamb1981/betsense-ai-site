<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BetSense AI Suite - Unified Sports Intelligence Stack</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-main: #020617;
      --bg-card: #020818;
      --bg-card-soft: #020a1c;
      --border-soft: rgba(148, 163, 184, 0.18);
      --accent-1: #22d3ee;
      --accent-2: #a855f7;
      --accent-3: #6366f1;
      --accent-4: #4ade80;
      --text-main: #e5e7eb;
      --text-soft: #9ca3af;
      --text-muted: #6b7280;
      --badge-bg: rgba(148, 163, 184, 0.16);
      --danger: #fb7185;
      --good: #4ade80;
      --warning: #facc15;
      --shadow-soft: 0 18px 45px rgba(15, 23, 42, 0.85);
      --radius-lg: 22px;
      --radius-pill: 999px;
      --header-height: 72px;
      --max-width: 1120px;
      --transition-fast: 160ms ease-out;
      --transition-med: 220ms ease-out;
      --font-main: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      font-family: var(--font-main);
      background: radial-gradient(circle at top left, #0b1120, #020617 46%, #000 100%);
      color: var(--text-main);
    }

    body {
      min-height: 100vh;
    }

    body.rtl {
      direction: rtl;
    }

    .page-shell {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 16px 14px 40px;
    }

    .page-inner {
      width: 100%;
      max-width: var(--max-width);
    }

    header.site-header {
      height: var(--header-height);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 10px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-logo {
      width: 38px;
      height: 38px;
      border-radius: 999px;
      background: radial-gradient(circle at 20% 0, #ffffff, #22d3ee 12%, #4f46e5 38%, #020617 75%);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 28px rgba(56, 189, 248, 0.6);
      border: 1px solid rgba(148, 163, 184, 0.4);
    }

    .brand-logo span {
      font-weight: 700;
      font-size: 15px;
      letter-spacing: 0.04em;
      color: #f9fafb;
    }

    .brand-copy {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }

    .brand-title {
      font-weight: 650;
      font-size: 18px;
      letter-spacing: 0.02em;
    }

    .brand-tagline {
      font-size: 11px;
      color: var(--text-soft);
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .badge-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 11px;
      border-radius: var(--radius-pill);
      background: linear-gradient(90deg, rgba(56, 189, 248, 0.2), rgba(147, 51, 234, 0.18));
      border: 1px solid rgba(148, 163, 184, 0.32);
      font-size: 11px;
      color: #e5e7eb;
      white-space: nowrap;
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--good);
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.2);
    }

    .lang-switcher {
      position: relative;
    }

    .lang-toggle {
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.7));
      color: var(--text-main);
      padding: 6px 12px;
      font-size: 11px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .lang-toggle span.globe {
      width: 14px;
      height: 14px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 9px;
    }

    .lang-menu {
      position: absolute;
      right: 0;
      top: 32px;
      width: 210px;
      max-height: 260px;
      overflow-y: auto;
      border-radius: 14px;
      background: #020617;
      border: 1px solid rgba(148, 163, 184, 0.38);
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.85);
      padding: 6px 0;
      z-index: 40;
      display: none;
    }

    body.rtl .lang-menu {
      left: 0;
      right: auto;
    }

    .lang-menu.open {
      display: block;
    }

    .lang-option {
      width: 100%;
      padding: 7px 12px;
      text-align: left;
      font-size: 12px;
      color: var(--text-main);
      border: none;
      background: transparent;
      cursor: pointer;
    }

    body.rtl .lang-option {
      text-align: right;
    }

    .lang-option:hover {
      background: rgba(148, 163, 184, 0.12);
    }

    .lang-option.active {
      background: rgba(56, 189, 248, 0.18);
      color: #e0f2fe;
    }

    main {
      display: flex;
      flex-direction: column;
      gap: 22px;
    }

    .section-card {
      border-radius: var(--radius-lg);
      background: radial-gradient(circle at top left, #020b1f, #020617 52%, #000 100%);
      border: 1px solid var(--border-soft);
      padding: 18px 16px 18px;
      box-shadow: var(--shadow-soft);
      margin-bottom: 10px;
    }

    .section-title {
      font-size: 18px;
      font-weight: 650;
      margin: 0 0 4px;
    }

    .section-kicker {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .section-subtitle {
      font-size: 13px;
      color: var(--text-soft);
      margin-bottom: 10px;
      line-height: 1.55;
    }

    .hero-grid {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .hero-heading {
      font-size: 26px;
      line-height: 1.2;
      font-weight: 750;
      letter-spacing: 0.02em;
      margin: 6px 0 8px;
    }

    .hero-sub {
      font-size: 13px;
      color: var(--text-soft);
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .hero-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 14px;
    }

    .chip {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.7));
      color: var(--text-soft);
    }

    .chip strong {
      color: #e5e7eb;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
    }

    .btn-primary,
    .btn-ghost {
      font-size: 13px;
      border-radius: var(--radius-pill);
      padding: 9px 16px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      border: 1px solid transparent;
      cursor: pointer;
      text-decoration: none;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(120deg, #22d3ee, #a855f7);
      color: #0b1120;
      font-weight: 600;
      box-shadow: 0 16px 30px rgba(56, 189, 248, 0.35);
    }

    .btn-primary span.icon {
      font-size: 15px;
    }

    .btn-ghost {
      border-color: rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.7));
      color: var(--text-main);
    }

    .hero-footnote {
      font-size: 10px;
      color: var(--text-muted);
    }

    .suite-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .module-badge {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      background: var(--badge-bg);
      color: var(--text-soft);
      margin-bottom: 6px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .module-badge span.dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent-1);
    }

    .module-card {
      background: radial-gradient(circle at top left, #020b1f, #020617);
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.26);
      padding: 10px 11px 11px;
    }

    .module-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 3px;
    }

    .module-sub {
      font-size: 12px;
      color: var(--text-soft);
      margin-bottom: 6px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .pill {
      font-size: 10px;
      padding: 3px 7px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.35);
      color: var(--text-soft);
    }

    .pill.accent {
      border-color: rgba(56, 189, 248, 0.55);
      color: #e0f2fe;
    }

    .module-card.engine {
      border-image: linear-gradient(90deg, #22d3ee, #6366f1) 1;
    }

    .module-card.hbboard {
      border-image: linear-gradient(90deg, #a855f7, #f59e0b) 1;
    }

    .module-card.emotion {
      border-image: linear-gradient(90deg, #22c55e, #22d3ee) 1;
    }

    .module-card.liveape {
      border-image: linear-gradient(90deg, #fb7185, #a855f7) 1;
    }

    .engine-layout {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 4px;
    }

    .toggle-group {
      display: inline-flex;
      border-radius: 999px;
      padding: 3px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.4);
      gap: 3px;
    }

    .toggle-btn {
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 11px;
      border: none;
      background: transparent;
      color: var(--text-soft);
      cursor: pointer;
      white-space: nowrap;
    }

    .toggle-btn.active {
      background: radial-gradient(circle at 0 0, #22d3ee, #6366f1);
      color: #020617;
      font-weight: 600;
    }

    .engine-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 8px;
    }

    .engine-input,
    .engine-output {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      padding: 9px 10px;
    }

    .field-label {
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 3px;
    }

    .field-label span.badge {
      font-size: 10px;
      padding: 1px 6px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      margin-left: 4px;
      color: var(--text-soft);
    }

    body.rtl .field-label span.badge {
      margin-left: 0;
      margin-right: 4px;
    }

    textarea.scenario-input {
      width: 100%;
      min-height: 50px;
      resize: vertical;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: #020617;
      color: var(--text-main);
      padding: 6px 7px;
      font-size: 12px;
      line-height: 1.4;
    }

    textarea.scenario-input::placeholder {
      color: var(--text-muted);
    }

    .output-body {
      font-size: 11px;
      color: var(--text-soft);
      line-height: 1.5;
    }

    .output-title {
      font-weight: 600;
      font-size: 11px;
      margin-bottom: 3px;
      color: #e5e7eb;
    }

    .chart-card {
      margin-top: 8px;
      background: radial-gradient(circle at 10% 0, #020b1f, #020617 70%, #000 100%);
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      padding: 9px 10px 10px;
    }

    .chart-modes {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 8px;
    }

    .mode-btn {
      border-radius: 999px;
      padding: 4px 10px;
      border: none;
      font-size: 11px;
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-soft);
      border: 1px solid rgba(148, 163, 184, 0.3);
      cursor: pointer;
    }

    .mode-btn.active {
      background: linear-gradient(120deg, #22d3ee, #22c55e);
      color: #020617;
      font-weight: 600;
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.7);
    }

    .chart-legend {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      font-size: 10px;
      margin-bottom: 3px;
    }

    .legend-item {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      color: var(--text-muted);
    }

    .legend-swatch {
      width: 18px;
      height: 2px;
      border-radius: 999px;
    }

    .legend-home {
      background: #22d3ee;
    }

    .legend-draw {
      background: #a855f7;
    }

    .legend-away {
      background: #f97316;
    }

    .chart-canvas {
      width: 100%;
      border-radius: 12px;
      background: radial-gradient(circle at 0 0, #020817, #020617 60%, #000 100%);
      border: 1px solid rgba(15, 23, 42, 0.85);
      padding: 6px 6px 4px;
    }

    canvas#probChart {
      width: 100%;
      height: 138px;
      display: block;
    }

    .chart-caption {
      margin-top: 5px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .timeline-layout {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 8px;
    }

    .timeline-row {
      font-size: 11px;
      color: var(--text-soft);
    }

    .tl-pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 5px;
    }

    .tl-pill {
      font-size: 10px;
      padding: 3px 7px;
      border-radius: 999px;
      border: 1px dashed rgba(148, 163, 184, 0.4);
      color: var(--text-soft);
    }

    .report-layout {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 8px;
    }

    .report-depth-toggle {
      display: inline-flex;
      border-radius: 999px;
      padding: 3px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.4);
      gap: 3px;
    }

    .report-depth-btn {
      border-radius: 999px;
      border: none;
      padding: 4px 10px;
      font-size: 11px;
      background: transparent;
      color: var(--text-soft);
      cursor: pointer;
      white-space: nowrap;
    }

    .report-depth-btn.active {
      background: linear-gradient(120deg, #a855f7, #6366f1);
      color: #020617;
      font-weight: 600;
    }

    .report-input {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      padding: 9px 10px;
    }

    .report-preview-card {
      background: radial-gradient(circle at 10% 0, #020b1f, #020617 70%);
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.32);
      padding: 9px 11px 11px;
      font-size: 11px;
      color: var(--text-soft);
      line-height: 1.55;
    }

    .report-tag-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 5px;
    }

    .report-tag {
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.14);
      color: var(--text-main);
    }

    .report-title {
      font-weight: 600;
      color: #e5e7eb;
      margin: 2px 0 4px;
    }

    .report-section-title {
      font-weight: 600;
      color: #e5e7eb;
      margin-top: 6px;
      margin-bottom: 2px;
    }

    .report-list {
      padding-left: 16px;
      margin: 2px 0;
    }

    body.rtl .report-list {
      padding-left: 0;
      padding-right: 16px;
    }

    .live-api-layout {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 8px;
    }

    .live-columns {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 8px;
    }

    .live-panel {
      background: rgba(15, 23, 42, 0.96);
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.32);
      padding: 9px 10px;
      font-size: 11px;
      color: var(--text-soft);
    }

    pre.json-editor {
      margin: 4px 0 8px;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: #020617;
      padding: 7px;
      max-height: 220px;
      overflow: auto;
      font-size: 11px;
      white-space: pre;
    }

    .live-btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    .btn-small {
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 11px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-main);
      cursor: pointer;
    }

    .btn-small.primary {
      border-color: rgba(56, 189, 248, 0.8);
      background: linear-gradient(120deg, #22d3ee, #6366f1);
      color: #020617;
      font-weight: 600;
    }

    .live-status {
      margin-top: 6px;
      font-size: 11px;
    }

    .live-status.good {
      color: var(--good);
    }

    .live-status.error {
      color: var(--danger);
    }

    .snapshot-card {
      margin-top: 3px;
      background: radial-gradient(circle at 0 0, #020b1f, #020617 70%);
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 184, 0.32);
      padding: 8px 9px 9px;
      font-size: 11px;
      color: var(--text-soft);
      line-height: 1.5;
    }

    .snapshot-tag {
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(168, 85, 247, 0.14);
      color: #e9d5ff;
      margin-bottom: 4px;
      display: inline-block;
    }

    .snapshot-title {
      font-weight: 600;
      color: #e5e7eb;
      margin-bottom: 3px;
    }

    .pricing-layout {
      margin-top: 8px;
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 8px;
    }

    .pricing-card {
      background: radial-gradient(circle at 10% 0, #020b1f, #020617 70%);
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.32);
      padding: 9px 11px 11px;
      font-size: 11px;
      color: var(--text-soft);
      line-height: 1.55;
    }

    .pricing-card.highlight {
      border-image: linear-gradient(120deg, #22d3ee, #a855f7) 1;
      box-shadow: 0 18px 40px rgba(56, 189, 248, 0.35);
    }

    .pricing-name {
      font-size: 12px;
      font-weight: 600;
      color: #e5e7eb;
      margin-bottom: 2px;
    }

    .pricing-price {
      font-size: 15px;
      font-weight: 650;
      color: #e5e7eb;
      margin-bottom: 4px;
    }

    .pricing-pill {
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.18);
      color: #e5e7eb;
      margin-bottom: 5px;
      display: inline-block;
    }

    .pricing-list {
      padding-left: 16px;
      margin: 2px 0;
    }

    body.rtl .pricing-list {
      padding-left: 0;
      padding-right: 16px;
    }

    .contact-layout {
      margin-top: 8px;
      display: flex;
      flex-direction: column;
      gap: 7px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .contact-emails {
      margin-top: 4px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .contact-email-line {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
    }

    .contact-email {
      font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 11px;
      color: #e5e7eb;
    }

    .contact-hint {
      font-size: 10px;
      color: var(--text-muted);
      margin-top: 3px;
    }

    footer {
      margin-top: 6px;
      font-size: 10px;
      color: var(--text-muted);
      text-align: center;
    }

    @media (min-width: 720px) {
      .hero-grid {
        flex-direction: row;
        gap: 18px;
      }

      .hero-left,
      .hero-right {
        flex: 1;
      }

      .suite-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .engine-grid {
        grid-template-columns: minmax(0, 1.15fr) minmax(0, 1.1fr);
      }

      .live-columns {
        grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.05fr);
      }

      .pricing-layout {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }
  </style>
</head>
<body>
  <div class="page-shell">
    <div class="page-inner">
      <header class="site-header">
        <div class="brand">
          <div class="brand-logo">
            <span>BS</span>
          </div>
          <div class="brand-copy">
            <div class="brand-title" data-i18n="brandTitle">BetSense AI Suite</div>
            <div class="brand-tagline" data-i18n="brandTagline">
              Unified sports intelligence stack
            </div>
          </div>
        </div>
        <div class="header-right">
          <div class="badge-pill">
            <span class="badge-dot"></span>
            <span data-i18n="badgeLive">Realtime AI for bookmakers &amp; trading desks</span>
          </div>
          <div class="lang-switcher">
            <button class="lang-toggle" id="langToggle">
              <span class="globe">üåê</span>
              <span id="langLabel">English (default)</span>
            </button>
            <div class="lang-menu" id="langMenu">
              <!-- options via JS -->
            </div>
          </div>
        </div>
      </header>

      <main>
        <!-- HERO -->
        <section class="section-card" id="hero">
          <div class="hero-grid">
            <div class="hero-left">
              <div class="section-kicker" data-i18n="heroKicker">
                One suite. Four engines. Single operator view.
              </div>
              <h1 class="hero-heading" data-i18n="heroTitle">
                One suite. Four unique engines for sharper sports decisions.
              </h1>
              <p class="hero-sub" data-i18n="heroSub">
                BetSense AI Suite connects BetSense Engine, HBboard, Emotion Index and LiveApe into one operator-ready
                platform ‚Äì built to show investors, buyers and partners what your stack can already do today.
              </p>
              <div class="hero-chips">
                <span class="chip"><strong>4</strong> integrated modules</span>
                <span class="chip">API-first architecture</span>
                <span class="chip">Live-match analytics</span>
              </div>
              <div class="hero-actions">
                <a href="#suite" class="btn-primary">
                  <span data-i18n="btnExplore">Explore BetSense AI Suite</span>
                  <span class="icon">‚ö°</span>
                </a>
                <a href="#live-api" class="btn-ghost">
                  <span data-i18n="btnLiveApi">Connect your live data (API)</span>
                </a>
              </div>
              <div class="hero-footnote" data-i18n="heroFootnote">
                Built for pilots first, then scale across desks.
              </div>
            </div>
            <div class="hero-right">
              <div class="module-badge">
                <span class="dot"></span>
                <span data-i18n="heroDemoBadge">Demo view ‚Äì copy, flows &amp; visuals for illustration only.</span>
              </div>
              <div class="module-card engine">
                <div class="module-title" data-i18n="heroEngineTitle">
                  Emotion Engine ‚Äì Quick &amp; Deep
                </div>
                <div class="module-sub" data-i18n="heroEngineSub">
                  Turn live-match chaos into a narrative your traders and investors can understand in seconds.
                </div>
                <div class="engine-layout">
                  <div class="toggle-group" id="analysisModeGroup">
                    <button class="toggle-btn active" data-mode="quick" data-i18n="quickMode">
                      Quick Emotion
                    </button>
                    <button class="toggle-btn" data-mode="deep" data-i18n="deepMode">
                      Deep Emotion
                    </button>
                    <button class="toggle-btn" data-mode="hybrid" data-i18n="hybridMode">
                      Hybrid (Quick + Deep)
                    </button>
                  </div>
                  <div class="engine-grid">
                    <div class="engine-input">
                      <div class="field-label" data-i18n="scenarioLabel">
                        Describe the scenario
                        <span class="badge" data-i18n="scenarioHint">
                          e.g. derby, late goal, odds move
                        </span>
                      </div>
                      <textarea class="scenario-input" id="scenarioInput" spellcheck="false"
                        placeholder="Derby match, late goal for home, big odds move from 2.40 to 1.70">
Derby match, late goal for home side, odds move from 2.40 to 1.70.</textarea>
                    </div>
                    <div class="engine-output">
                      <div class="field-label" data-i18n="aiOutputLabel">
                        AI output ‚Äì tone &amp; narrative
                      </div>
                      <div class="output-body" id="engineOutput">
                        <div class="output-title" id="engineOutputTitle">
                          Quick read for traders
                        </div>
                        <div id="engineOutputText">
                          Home momentum turns into a decisive edge after the late goal. Market mood jumps from cautious
                          optimism to confident trend on the home side ‚Äì spreads tighten and retail money chases price.
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="chart-card">
                    <div class="chart-modes">
                      <button class="mode-btn active" data-mode="balanced" id="modeBalanced">
                        Balanced opener
                      </button>
                      <button class="mode-btn" data-mode="pressure" id="modePressure">
                        Home pressure
                      </button>
                      <button class="mode-btn" data-mode="comeback" id="modeComeback">
                        Away comeback
                      </button>
                    </div>
                    <div class="chart-legend">
                      <span class="legend-item">
                        <span class="legend-swatch legend-home"></span>
                        <span>Home win %</span>
                      </span>
                      <span class="legend-item">
                        <span class="legend-swatch legend-draw"></span>
                        <span>Draw %</span>
                      </span>
                      <span class="legend-item">
                        <span class="legend-swatch legend-away"></span>
                        <span>Away win %</span>
                      </span>
                    </div>
                    <div class="chart-canvas">
                      <canvas id="probChart"></canvas>
                    </div>
                    <div class="chart-caption" id="chartCaption">
                      Mode: Balanced opener ‚Äì early swings are modest, market still respects all three outcomes.
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- SUITE MODULES -->
        <section class="section-card" id="suite">
          <div class="section-kicker" data-i18n="suiteKicker">
            Unified operator stack
          </div>
          <h2 class="section-title" data-i18n="suiteTitle">
            Four engines, one story for desks, partners and investors.
          </h2>
          <p class="section-subtitle" data-i18n="suiteSub">
            Surface what matters in live sport: probabilities, pressure and behaviour. Each module can run alone or as
            part of a unified BetSense AI Suite.
          </p>
          <div class="suite-grid">
            <div class="module-card engine">
              <div class="module-title">BetSense Engine</div>
              <div class="module-sub">
                Probability engine and edge modeller for operators who already trust their data, but need explainable
                AI.
              </div>
              <div class="pill-row">
                <span class="pill accent">Live win % curves</span>
                <span class="pill">Market move clustering</span>
                <span class="pill">Edge attribution</span>
              </div>
            </div>
            <div class="module-card hbboard">
              <div class="module-title">HBboard</div>
              <div class="module-sub">
                Trading room console that lines up Emotion Index, LiveApe, BetSense Engine and your own feeds.
              </div>
              <div class="pill-row">
                <span class="pill">Desk-ready dashboards</span>
                <span class="pill accent">Operator controls</span>
              </div>
            </div>
            <div class="module-card emotion">
              <div class="module-title">Emotion Index</div>
              <div class="module-sub">
                Measures behaviour around odds, goals and pressure ‚Äì not just what happened, but how it felt in the
                market.
              </div>
              <div class="pill-row">
                <span class="pill accent">Sentiment ladder</span>
                <span class="pill">Risk &amp; comfort bands</span>
              </div>
            </div>
            <div class="module-card liveape">
              <div class="module-title">LiveApe</div>
              <div class="module-sub">
                Lightweight layer over social, comms and operator logs to spot emotional spikes before price follows.
              </div>
              <div class="pill-row">
                <span class="pill">Feed-agnostic</span>
                <span class="pill accent">Pre-goal alerts</span>
              </div>
            </div>
          </div>
        </section>

        <!-- PROBABILITY TIMELINE -->
        <section class="section-card" id="timeline">
          <div class="section-kicker">Probability Timeline</div>
          <h2 class="section-title">
            Single-match timeline that traders can read in seconds.
          </h2>
          <p class="section-subtitle">
            Use BetSense Engine with Emotion Index to show exactly how a fixture evolved ‚Äì and where the edge really
            came from.
          </p>
          <div class="timeline-layout">
            <div class="timeline-row">
              <strong>Scenario:</strong>
              <span id="timelineScenario">
                EPL-2025-001 ‚Äî Chelsea vs Arsenal, minute 72, home goal and odds move from 2.40 to 1.70.
              </span>
            </div>
            <div class="timeline-row">
              <strong>Edge story:</strong>
              <span id="timelineStory">
                Home side converts sustained pressure into a clean break in win probability; draw and away curves drift
                together as Emotion Index flips from cautious to confident.
              </span>
            </div>
            <div class="tl-pill-row">
              <span class="tl-pill">Pre-match: tight band, all outcomes priced fairly.</span>
              <span class="tl-pill">Minute 60: pressure alerts, Emotion Index warming.</span>
              <span class="tl-pill">Minute 72: goal + odds snap, edge crystallises.</span>
            </div>
          </div>
        </section>

        <!-- MATCH REPORT -->
        <section class="section-card" id="reports">
          <div class="section-kicker">AI Match Report ‚Äì Simple &amp; Full</div>
          <h2 class="section-title">
            Generate investor-ready or operator-ready match summaries in one click.
          </h2>
          <p class="section-subtitle">
            Use the same scenario you analysed above, then export either a one-page view for management or a
            multi-section report for investors and trading leadership.
          </p>
          <div class="report-layout">
            <div class="report-input">
              <div class="field-label">
                1. Define the report focus
              </div>
              <textarea class="scenario-input" id="reportScenario" spellcheck="false"
                placeholder="Optional: add or refine the scenario you want in the report (league, scoreline, odds move, key events)‚Ä¶">Derby match, late goal for home side, odds move from 2.40 to 1.70.</textarea>
            </div>
            <div>
              <div class="field-label">
                2. Choose report depth
              </div>
              <div class="report-depth-toggle" id="reportDepthToggle">
                <button class="report-depth-btn active" data-depth="simple">
                  Simple report ‚Äì 1-page, non-technical summary
                </button>
                <button class="report-depth-btn" data-depth="full">
                  Full report ‚Äì multi-section, investor-level detail
                </button>
              </div>
            </div>
            <div class="report-preview-card" id="simpleReport">
              <div class="report-tag-row">
                <span class="report-tag">Simple report</span>
                <span class="report-tag">For management &amp; stakeholders</span>
              </div>
              <div class="report-title">Simple match report</div>
              <p><strong>Key scenario:</strong> Derby match, late goal for home side, odds move from 2.40 to 1.70.</p>
              <p><strong>Headline:</strong> Home side turns pressure into a decisive advantage, with odds and market
                mood moving in sync.</p>
              <p><strong>Trading summary:</strong></p>
              <ul class="report-list">
                <li>BetSense Engine highlights a clear break in probability trend after the key event.</li>
                <li>Price move is supported by volume, not just retail noise.</li>
                <li>Risk position is comfortable but requires monitoring if a second goal arrives.</li>
              </ul>
              <p>Use this view for fast communication with management or non-technical stakeholders.</p>
            </div>

            <div class="report-preview-card" id="fullReport" style="display:none;">
              <div class="report-tag-row">
                <span class="report-tag">Full report</span>
                <span class="report-tag">Investor &amp; trading leadership view</span>
              </div>
              <div class="report-title">Full match report ‚Äì investor view</div>
              <p><strong>Scenario overview:</strong> Derby match, late goal for home side, odds move from 2.40 to
                1.70.</p>

              <div class="report-section-title">1. Market structure and price action</div>
              <ul class="report-list">
                <li>BetSense Engine tracked live probabilities from kick-off to full time.</li>
                <li>Before the key event, home win sat in a relatively tight band, with draw and away priced fairly.
                </li>
                <li>The late goal acts as an inflection point: home probability accelerates, draw collapses and away
                  drifts, mirroring the move in quoted odds.</li>
              </ul>

              <div class="report-section-title">2. Emotion Index &amp; behavioural signals</div>
              <ul class="report-list">
                <li>Emotion Index shows a clean shift from cautious optimism to confident momentum on the home side.
                </li>
                <li>LiveApe confirms a tactical change on the pitch ‚Äì higher press, more shots and visible energy in
                  the stadium.</li>
                <li>Social feeds amplify the move but do not lead it, which is typically a healthy pattern for trading
                  desks.</li>
              </ul>

              <div class="report-section-title">3. Risk, PnL and exposure notes</div>
              <ul class="report-list">
                <li>Concentration risk now sits on the home win bucket after the move in price.</li>
                <li>Draw and away positions provide partial hedge but may need re-balancing if a second goal lands.
                </li>
                <li>From an investor standpoint this fixture is a good case study in how BetSense AI turns chaotic
                  live data into a structured narrative.</li>
              </ul>

              <div class="report-section-title">4. Next-step recommendations</div>
              <ul class="report-list">
                <li><strong>For operators:</strong> integrate this report template into HBboard for post-match reviews.
                </li>
                <li><strong>For investors:</strong> use this example to benchmark future pilots and league expansion.
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- LIVE DATA API -->
        <section class="section-card" id="live-api">
          <div class="section-kicker">Live data API</div>
          <h2 class="section-title">
            Connect your live feeds into BetSense AI Suite.
          </h2>
          <p class="section-subtitle">
            Paste a live tick payload to see how an operator could ingest odds, stats and sentiment into a single
            AI-ready stream. In production, this block connects directly to your data providers.
          </p>

          <div class="live-api-layout">
            <div class="live-columns">
              <div class="live-panel">
                <div class="field-label">
                  Sample payload &amp; schema
                </div>
                <p>
                  Use the demo payload or paste your own JSON tick from a trading feed. The validator checks structure
                  only ‚Äì operators can adapt this to their internal schema.
                </p>
                <pre class="json-editor" id="jsonInput" contenteditable="true">
{
  "matchId": "EPL-2025-001",
  "minute": 72,
  "homeTeam": "Chelsea",
  "awayTeam": "Arsenal",
  "stats": {
    "xgHome": 2.1,
    "xgAway": 0.9,
    "shotsHome": 12,
    "shotsAway": 7
  },
  "marketOdds": {
    "homeWin": 1.85,
    "draw": 3.60,
    "awayWin": 4.40
  },
  "socialSentiment": "home_fans_excited"
}</pre>
                <div class="live-btn-row">
                  <button class="btn-small primary" id="btnUseDemo">Use demo payload</button>
                  <button class="btn-small" id="btnValidate">Validate payload</button>
                  <button class="btn-small" id="btnSimulate">Simulate edge snapshot</button>
                </div>
                <div class="live-status" id="liveStatus">
                  Payload is valid JSON and contains key match fields.
                </div>
              </div>

              <div class="live-panel">
                <div class="field-label">
                  Live snapshot
                </div>
                <div class="snapshot-card" id="snapshotCard">
                  <div class="snapshot-tag">Live snapshot</div>
                  <div class="snapshot-title" id="snapshotTitle">
                    EPL-2025-001 ‚Äî Chelsea vs Arsenal
                  </div>
                  <p id="snapshotMinute">
                    Minute 72 ¬∑ Single-tick view for traders and AI pipelines.
                  </p>
                  <hr style="border:none;border-top:1px dashed rgba(148,163,184,0.45);margin:6px 0;">
                  <p id="snapshotBody">
                    xG trend: Chelsea 2.1 vs Arsenal 0.9. Market odds snapshot ‚Äì home: 1.85, draw: 3.6, away: 4.4.
                    Social sentiment: home_fans_excited.
                  </p>
                  <p id="snapshotFooter">
                    In production, this card becomes part of a streaming service that continuously enriches your feeds
                    with Emotion Index, LiveApe and BetSense Engine probabilities.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- PRICING -->
        <section class="section-card" id="pricing">
          <div class="section-kicker">Operator pricing</div>
          <h2 class="section-title">
            Built for pilots first, then scale across desks.
          </h2>
          <p class="section-subtitle">
            Typical commercial structures for early-stage pilots and operator rollouts. Final pricing depends on
            leagues, latency requirements and integration scope.
          </p>
          <div class="pricing-layout">
            <div class="pricing-card">
              <div class="pricing-name">Pilot</div>
              <div class="pricing-price">¬£3k‚Äì¬£5k / month</div>
              <span class="pricing-pill">Best for: early pilots, proof-of-concept</span>
              <ul class="pricing-list">
                <li>1‚Äì2 key leagues, 1‚Äì3 trading teams.</li>
                <li>Single region, single environment.</li>
                <li>Emotion Engine + Timeline + basic reports.</li>
                <li>Email &amp; Slack support during trading hours.</li>
              </ul>
            </div>

            <div class="pricing-card">
              <div class="pricing-name">Operator</div>
              <div class="pricing-price">¬£8k‚Äì¬£15k / month</div>
              <span class="pricing-pill">For growing operators</span>
              <ul class="pricing-list">
                <li>3‚Äì6 leagues, multiple trading teams.</li>
                <li>Live data API ingestion + Emotion Index.</li>
                <li>Full report builder + export to PDF / BI stack.</li>
                <li>Shared roadmap &amp; quarterly edge reviews.</li>
              </ul>
            </div>

            <div class="pricing-card highlight">
              <div class="pricing-name">Enterprise</div>
              <div class="pricing-price">¬£20k+ / month</div>
              <span class="pricing-pill">For groups &amp; multi-brand desks</span>
              <ul class="pricing-list">
                <li>Global coverage, custom latency &amp; redundancy.</li>
                <li>Full BetSense AI Suite ‚Äì Engine, HBboard, Emotion Index &amp; LiveApe.</li>
                <li>Dedicated SLA, integration squad &amp; data science support.</li>
                <li>Co-branded investor packs &amp; on-site workshops.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- CONTACT -->
        <section class="section-card" id="contact">
          <div class="section-kicker">Contact &amp; pilots</div>
          <h2 class="section-title">
            Three entry points, one inbox ‚Äì easy to route pilots, sales and support.
          </h2>
          <p class="section-subtitle">
            Use BetSense AI Suite as a pilot with a small group of traders or partners, then scale across desks.
          </p>
          <div class="contact-layout">
            <div>
              All addresses below forward into the same operator-owned mailbox so you can track pilots, sales and
              support in one place:
            </div>
            <div class="contact-emails">
              <div class="contact-email-line">
                <span class="contact-email">support@betsense.casino</span>
                <span>‚Äî live issues, technical support</span>
              </div>
              <div class="contact-email-line">
                <span class="contact-email">info@betsense.casino</span>
                <span>‚Äî general questions, partnerships</span>
              </div>
              <div class="contact-email-line">
                <span class="contact-email">admin@betsense.casino</span>
                <span>‚Äî contracts, billing, legal</span>
              </div>
            </div>
            <div>
              For early-stage pilots, we typically recommend:
              <ul class="pricing-list">
                <li>1‚Äì2 key leagues, 1‚Äì3 trading teams.</li>
                <li>Daily snapshot reports for management or investors.</li>
                <li>Weekly review call on edge, risk and commercial impact.</li>
              </ul>
            </div>
            <div class="contact-hint">
              Subject lines that help us route quickly: ‚ÄúPilot request‚Äù, ‚ÄúAPI access‚Äù or ‚ÄúInvestor deck‚Äù.
            </div>
          </div>
        </section>

        <footer>
          BetSense AI Suite ‚Äî demo interface. Copy, flows and visuals for illustration only.
        </footer>
      </main>
    </div>
  </div>

  <script>
    // ---------- Language selector + minimal i18n ----------
    const languages = [
      ["en", "English (default)"],
      ["cs", "ƒåe≈°tina (CS)"],
      ["ru", "–†—É—Å—Å–∫–∏–π (RU)"],
      ["uk", "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ (UK)"],
      ["ar", "ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (AR)"],
      ["fa", "ŸÅÿßÿ±ÿ≥€å (Farsi)"],
      ["hi", "‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (HI)"],
      ["bn", "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (BN)"],
      ["zh", "‰∏≠Êñá (ZH)"],
      ["ja", "Êó•Êú¨Ë™û (JA)"],
      ["ko", "ÌïúÍµ≠Ïñ¥ (KO)"],
      ["de", "Deutsch (DE)"],
      ["fr", "Fran√ßais (FR)"],
      ["es", "Espa√±ol (ES)"],
      ["pt", "Portugu√™s (PT)"],
      ["tr", "T√ºrk√ße (TR)"],
      ["it", "Italiano (IT)"],
      ["nl", "Nederlands (NL)"],
      ["sv", "Svenska (SV)"],
      ["pl", "Polski (PL)"],
      ["no", "Norsk (NO)"]
    ];

    const translations = {
      fa: {
        brandTitle: "ÿ®ÿ™‚Äåÿ≥ŸÜÿ≥ AI ÿ≥Ÿàÿ¶€åÿ™",
        brandTagline: "ÿßÿ≥ÿ™⁄© €å⁄©Ÿæÿßÿ±⁄ÜŸáŸî ŸáŸàÿ¥ Ÿàÿ±ÿ≤ÿ¥€å",
        badgeLive: "ŸáŸàÿ¥ ŸÖÿµŸÜŸàÿπ€å ÿ¢ŸÜ€å ÿ®ÿ±ÿß€å ÿ®Ÿà⁄©‚ÄåŸÖ€å⁄©ÿ±Ÿáÿß Ÿà ÿ™ÿ±€åÿØ€åŸÜ⁄Ø ÿØÿ≥⁄©‚ÄåŸáÿß",
        heroKicker: "€å⁄© ÿ≥Ÿàÿ¶€åÿ™ÿå ⁄ÜŸáÿßÿ± ÿßŸÜÿ¨€åŸÜÿå €å⁄© ŸÜŸÖÿß€å ÿßŸæÿ±ÿßÿ™Ÿàÿ±€å",
        heroTitle: "€å⁄© ÿ≥Ÿàÿ¶€åÿ™ÿõ ⁄ÜŸáÿßÿ± ÿßŸÜÿ¨€åŸÜ ŸÖŸÜÿ≠ÿµÿ±ÿ®Ÿá‚ÄåŸÅÿ±ÿØ ÿ®ÿ±ÿß€å ÿ™ÿµŸÖ€åŸÖ‚ÄåŸáÿß€å ÿØŸÇ€åŸÇ‚Äåÿ™ÿ± Ÿàÿ±ÿ≤ÿ¥€å.",
        heroSub:
          "BetSense AI Suite ÿßŸÜÿ¨€åŸÜ ÿ®ÿ™‚Äåÿ≥ŸÜÿ≥ÿå HBboardÿå Emotion Index Ÿà LiveApe ÿ±ÿß ÿØÿ± €å⁄© ŸæŸÑÿ™ŸÅÿ±ŸÖ ÿ¢ŸÖÿßÿØŸáŸî ÿßŸæÿ±ÿßÿ™Ÿàÿ± ÿ¨ŸÖÿπ ŸÖ€å‚Äå⁄©ŸÜÿØ ‚Äì ÿ™ÿß ÿ®Ÿá ÿ≥ÿ±ŸÖÿß€åŸá‚Äå⁄Øÿ∞ÿßÿ±ÿßŸÜ Ÿà ÿ¥ÿ±⁄©ÿß ŸÜÿ¥ÿßŸÜ ÿØŸá€åÿØ ŸáŸÖ€åŸÜ ÿßŸÖÿ±Ÿàÿ≤ ⁄ÜŸá ÿ™ŸàÿßŸÜÿß€å€å‚Äåÿß€å ÿØÿßÿ±€åÿØ.",
        btnExplore: "ŸÖÿ¥ÿßŸáÿØŸá BetSense AI Suite",
        btnLiveApi: "ÿßÿ™ÿµÿßŸÑ ÿØ€åÿ™ÿß€å ŸÑÿß€åŸà ÿ¥ŸÖÿß (API)",
        heroFootnote: "ÿßŸàŸÑ ÿ®ÿ±ÿß€å Ÿæÿß€åŸÑŸàÿ™ ÿ≥ÿßÿÆÿ™Ÿá ÿ¥ÿØŸáÿå ÿ®ÿπÿØ ÿ®ÿ±ÿß€å ŸÖŸÇ€åÿßÿ≥ ÿ±Ÿà€å ⁄ÜŸÜÿØ ÿØÿ≥⁄©.",
        heroDemoBadge: "ŸÜŸÖÿß€å ÿØŸÖŸà ‚Äì ŸÖÿ™ŸÜ Ÿà ŸÅŸÑŸàŸáÿß ŸÅŸÇÿ∑ ÿ®ÿ±ÿß€å ŸÜŸÖÿß€åÿ¥ Ÿáÿ≥ÿ™ŸÜÿØ.",
        heroEngineTitle: "Emotion Engine ‚Äì ÿ≥ÿ±€åÿπ Ÿà ÿπŸÖ€åŸÇ",
        heroEngineSub:
          "Ÿáÿ±ÿ¨‚ÄåŸàŸÖÿ±ÿ¨ ÿ®ÿßÿ≤€å ŸÑÿß€åŸà ÿ±ÿß ÿ®Ÿá ÿ±Ÿàÿß€åÿ™€å ÿ™ÿ®ÿØ€åŸÑ ŸÖ€å‚Äå⁄©ŸÜÿØ ⁄©Ÿá ÿ™ÿ±€åÿØÿ± Ÿà ÿ≥ÿ±ŸÖÿß€åŸá‚Äå⁄Øÿ∞ÿßÿ± ÿØÿ± ⁄ÜŸÜÿØ ÿ´ÿßŸÜ€åŸá ÿ®ŸÅŸáŸÖŸÜÿØ.",
        quickMode: "ÿ™ÿ≠ŸÑ€åŸÑ ÿ≥ÿ±€åÿπ",
        deepMode: "ÿ™ÿ≠ŸÑ€åŸÑ ÿπŸÖ€åŸÇ",
        hybridMode: "ÿ™ÿ±⁄©€åÿ®€å (ÿ≥ÿ±€åÿπ + ÿπŸÖ€åŸÇ)",
        scenarioLabel: "ÿ≥ŸÜÿßÿ±€åŸà ÿ±ÿß ÿ™Ÿàÿµ€åŸÅ ⁄©ŸÜ€åÿØ",
        scenarioHint: "ŸÖÿ´ŸÑÿßŸã: ÿØÿ±ÿ®€åÿå ⁄ØŸÑ ÿØ€åÿ±ŸáŸÜ⁄ØÿßŸÖÿå ÿ¨Ÿáÿ¥ ÿ∂ÿ±€åÿ®",
        aiOutputLabel: "ÿÆÿ±Ÿàÿ¨€å ŸáŸàÿ¥ ŸÖÿµŸÜŸàÿπ€å ‚Äì ŸÑÿ≠ŸÜ Ÿà ÿ±Ÿàÿß€åÿ™"
      }
    };

    const langToggle = document.getElementById("langToggle");
    const langMenu = document.getElementById("langMenu");
    const langLabel = document.getElementById("langLabel");

    function buildLangMenu() {
      languages.forEach(([code, label]) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "lang-option" + (code === "en" ? " active" : "");
        btn.dataset.code = code;
        btn.textContent = label;
        btn.addEventListener("click", () => setLanguage(code, label, btn));
        langMenu.appendChild(btn);
      });
    }

    function setLanguage(code, label, btnEl) {
      langLabel.textContent = label;
      document.querySelectorAll(".lang-option").forEach((b) =>
        b.classList.toggle("active", b === btnEl)
      );
      const html = document.documentElement;
      if (code === "fa") {
        html.lang = "fa";
        html.dir = "rtl";
        document.body.classList.add("rtl");
      } else {
        html.lang = code;
        html.dir = "ltr";
        document.body.classList.remove("rtl");
      }

      const dict = translations[code];
      if (dict) {
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const key = el.getAttribute("data-i18n");
          if (dict[key]) el.textContent = dict[key];
        });
      } else {
        // fallback to English text already in DOM
      }

      langMenu.classList.remove("open");
    }

    langToggle.addEventListener("click", () => {
      langMenu.classList.toggle("open");
    });

    document.addEventListener("click", (e) => {
      if (!langMenu.contains(e.target) && !langToggle.contains(e.target)) {
        langMenu.classList.remove("open");
      }
    });

    buildLangMenu();

    // ---------- Emotion Engine mode toggle ----------
    const engineOutputTitle = document.getElementById("engineOutputTitle");
    const engineOutputText = document.getElementById("engineOutputText");
    const scenarioInput = document.getElementById("scenarioInput");

    const modeCopy = {
      quick: {
        title: "Quick read for traders",
        text:
          "Fast pulse on the fixture. Odds and Emotion Index agree the late goal unlocks the home edge ‚Äì ideal for in-play risk and micro-hedging."
      },
      deep: {
        title: "Deep narrative for reports",
        text:
          "Deeper view on structure and behaviour. We separate tactical pressure, market mood and price action so leadership can see exactly where edge appeared."
      },
      hybrid: {
        title: "Hybrid story ‚Äì quick & deep",
        text:
          "Hybrid mode blends a trader-friendly summary with investor-ready structure. Use one narrative across HBboard, reports and investor decks."
      }
    };

    document
      .getElementById("analysisModeGroup")
      .querySelectorAll(".toggle-btn")
      .forEach((btn) => {
        btn.addEventListener("click", () => {
          const mode = btn.dataset.mode;
          document
            .getElementById("analysisModeGroup")
            .querySelectorAll(".toggle-btn")
            .forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          engineOutputTitle.textContent = modeCopy[mode].title;
          engineOutputText.textContent = modeCopy[mode].text;
        });
      });

    // ---------- Probability chart (canvas) ----------
    const chartCanvas = document.getElementById("probChart");
    const ctx = chartCanvas.getContext("2d");

    function resizeCanvas() {
      const rect = chartCanvas.getBoundingClientRect();
      chartCanvas.width = rect.width * devicePixelRatio;
      chartCanvas.height = rect.height * devicePixelRatio;
      ctx.scale(devicePixelRatio, devicePixelRatio);
      drawChart(currentScenario);
    }

    const scenarios = {
      balanced: {
        home: [40, 45, 48, 50, 52],
        draw: [30, 28, 27, 26, 25],
        away: [30, 27, 25, 24, 23],
        caption:
          "Mode: Balanced opener ‚Äì early swings are modest, market still respects all three outcomes."
      },
      pressure: {
        home: [40, 48, 56, 62, 68],
        draw: [30, 26, 22, 18, 15],
        away: [30, 26, 22, 20, 17],
        caption:
          "Mode: Home pressure ‚Äì sustained attacks push the home curve higher while away drifts."
      },
      comeback: {
        home: [55, 50, 46, 42, 38],
        draw: [25, 26, 27, 28, 29],
        away: [20, 24, 27, 30, 33],
        caption:
          "Mode: Away comeback ‚Äì home stalls, draw holds firm and away probability builds late."
      }
    };

    let currentScenario = "balanced";

    function drawLine(points, color) {
      const w = chartCanvas.clientWidth;
      const h = chartCanvas.clientHeight;
      const stepX = w / (points.length - 1 || 1);
      ctx.strokeStyle = color;
      ctx.lineWidth = 1.8;
      ctx.beginPath();
      points.forEach((p, idx) => {
        const x = idx * stepX + 4;
        const y = h - (p / 100) * (h - 12) - 4;
        if (idx === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      });
      ctx.stroke();
    }

    function drawGrid() {
      const w = chartCanvas.clientWidth;
      const h = chartCanvas.clientHeight;
      ctx.clearRect(0, 0, w, h);
      ctx.fillStyle = "#020617";
      ctx.fillRect(0, 0, w, h);
      ctx.strokeStyle = "rgba(148,163,184,0.15)";
      ctx.lineWidth = 1;
      const steps = 4;
      for (let i = 0; i <= steps; i++) {
        const y = (i * (h - 10)) / steps + 3;
        ctx.beginPath();
        ctx.moveTo(0, y);
        ctx.lineTo(w, y);
        ctx.stroke();
      }
    }

    function drawChart(mode) {
      const cfg = scenarios[mode];
      if (!cfg) return;
      drawGrid();
      drawLine(cfg.home, "#22d3ee");
      drawLine(cfg.draw, "#a855f7");
      drawLine(cfg.away, "#f97316");
      document.getElementById("chartCaption").textContent = cfg.caption;
    }

    window.addEventListener("resize", () => {
      resizeCanvas();
    });

    document.querySelectorAll(".mode-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        document
          .querySelectorAll(".mode-btn")
          .forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        currentScenario = btn.dataset.mode;
        drawChart(currentScenario);
      });
    });

    // initial sizing
    setTimeout(resizeCanvas, 50);

    // ---------- Report depth toggle ----------
    const reportToggle = document.getElementById("reportDepthToggle");
    reportToggle.querySelectorAll(".report-depth-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        const depth = btn.dataset.depth;
        reportToggle
          .querySelectorAll(".report-depth-btn")
          .forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        document.getElementById("simpleReport").style.display =
          depth === "simple" ? "block" : "none";
        document.getElementById("fullReport").style.display =
          depth === "full" ? "block" : "none";
      });
    });

    // ---------- Live API demo ----------
    const demoPayload = `{
  "matchId": "EPL-2025-001",
  "minute": 72,
  "homeTeam": "Chelsea",
  "awayTeam": "Arsenal",
  "stats": {
    "xgHome": 2.1,
    "xgAway": 0.9,
    "shotsHome": 12,
    "shotsAway": 7
  },
  "marketOdds": {
    "homeWin": 1.85,
    "draw": 3.60,
    "awayWin": 4.40
  },
  "socialSentiment": "home_fans_excited"
}`;

    const jsonInput = document.getElementById("jsonInput");
    const liveStatus = document.getElementById("liveStatus");
    const snapshotTitle = document.getElementById("snapshotTitle");
    const snapshotMinute = document.getElementById("snapshotMinute");
    const snapshotBody = document.getElementById("snapshotBody");

    document.getElementById("btnUseDemo").addEventListener("click", () => {
      jsonInput.textContent = demoPayload;
      liveStatus.textContent =
        "Demo payload loaded. Validate or simulate to see how it flows through BetSense AI Suite.";
      liveStatus.className = "live-status";
    });

    document.getElementById("btnValidate").addEventListener("click", () => {
      try {
        const text = jsonInput.textContent.trim();
        const parsed = JSON.parse(text);
        if (!parsed.matchId || typeof parsed.minute === "undefined") {
          throw new Error("Missing matchId or minute");
        }
        liveStatus.textContent =
          "Payload is valid JSON and contains key match fields.";
        liveStatus.className = "live-status good";
      } catch (e) {
        liveStatus.textContent =
          "Payload is not valid JSON or is missing required fields.";
        liveStatus.className = "live-status error";
      }
    });

    document.getElementById("btnSimulate").addEventListener("click", () => {
      try {
        const parsed = JSON.parse(jsonInput.textContent.trim());
        const matchId = parsed.matchId || "Match";
        const minute = parsed.minute ?? "‚Äì";
        const home = parsed.homeTeam || "Home";
        const away = parsed.awayTeam || "Away";
        const odds = parsed.marketOdds || {};
        const stats = parsed.stats || {};
        const sentiment = parsed.socialSentiment || "neutral";

        snapshotTitle.textContent = `${matchId} ‚Äî ${home} vs ${away}`;
        snapshotMinute.textContent = `Minute ${minute} ¬∑ Single-tick view for traders and AI pipelines.`;

        snapshotBody.textContent =
          `xG trend: ${home} ${stats.xgHome ?? "?"} vs ${away} ${
            stats.xgAway ?? "?"
          }. ` +
          `Market odds snapshot ‚Äì home: ${odds.homeWin ?? "?"}, draw: ${
            odds.draw ?? "?"
          }, away: ${odds.awayWin ?? "?"}. ` +
          `Social sentiment: ${sentiment}.`;

        liveStatus.textContent =
          "Snapshot updated from your payload. In production this is streamed in real time.";
        liveStatus.className = "live-status good";
      } catch (e) {
        liveStatus.textContent =
          "Cannot simulate snapshot ‚Äì please fix the JSON first.";
        liveStatus.className = "live-status error";
      }
    });
  </script>
</body>
</html>
