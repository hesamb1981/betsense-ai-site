<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>BetSense • RBS Engine</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
    body {
        margin: 0;
        padding: 0;
        background: radial-gradient(circle at top, #020617, #000);
        font-family: system-ui, -apple-system, Segoe UI, sans-serif;
        color: #e5e7eb;
    }
    .page {
        max-width: 1100px;
        margin: auto;
        padding: 30px 20px;
    }
    h1 {
        font-size: 32px;
        margin-bottom: 20px;
        font-weight: 700;
        text-align: center;
    }
    .input-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 14px;
        margin: 12px 0;
    }
    input, select {
        padding: 12px;
        font-size: 16px;
        border-radius: 10px;
        border: 1px solid #374151;
        background: #0f172a;
        color: #e5e7eb;
    }
    button {
        width: 100%;
        padding: 14px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        margin-top: 20px;
        background: linear-gradient(90deg, #4f46e5, #3b82f6);
        color: #fff;
        cursor: pointer;
        font-weight: 600;
    }
    #output {
        margin-top: 30px;
        background: #0f172a;
        padding: 20px;
        border-radius: 14px;
        white-space: pre-wrap;
    }
</style>
</head>

<body>
<div class="page">
    <h1>RBS Engine • Demo Console</h1>

    <div class="input-row">
        <input id="team" placeholder="Team Name" />
        <input id="opponent" placeholder="Opponent" />
    </div>

    <div class="input-row">
        <input id="fixtureId" placeholder="Fixture ID" />
        <input id="minute" placeholder="Minute (0–90)" />
    </div>

    <button id="run-rbs-btn">Run RBS Engine</button>

    <div id="output">Result will appear here...</div>
</div>

<script type="module">
import { callEngine } from "/src-api-config.js";

async function runRBSDemo() {
    const payload = {
        engine: "rbs",
        team: document.getElementById("team").value,
        opponent: document.getElementById("opponent").value,
        fixtureId: document.getElementById("fixtureId").value,
        minute: document.getElementById("minute").value,
        mode: "demo"
    };

    document.getElementById("output").textContent = "Processing...";

    try {
        const data = await callEngine(payload);
        document.getElementById("output").textContent =
            JSON.stringify(data, null, 2);
    } catch (e) {
        document.getElementById("output").textContent =
            "Error connecting to API.\n\n" + e;
    }
}

document.getElementById("run-rbs-btn")
        .addEventListener("click", runRBSDemo);
</script>
</body>
</html>
